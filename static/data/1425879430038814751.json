[{"thread":{"id":"1425879430038814751","type":11,"last_message_id":"1425897646140428298","flags":0,"guild_id":"1212332642801025064","name":"infrahubctl schema check","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"706910273709146175","thread_metadata":{"archived":true,"archive_timestamp":"2025-11-08T17:32:44.861000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-10-09T16:15:47.680000+00:00"},"message_count":4,"member_count":2,"total_message_sent":4,"applied_tags":["1301914864339648552","1322475882421555200","1304062537364410420"]},"messages":[{"type":0,"content":"as documented on the https://docs.infrahub.app/python-sdk/guides/client\n\nWe need to export the address and API token as an environment variable:\n\nexport INFRAHUB_ADDRESS=\"http://localhost:8000\"\nexport INFRAHUB_API_TOKEN=\"token\"","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/python-sdk/guides/client","title":"How to create and configure an Infrahub client | Infrahub Documenta...","description":"This guide shows you how to create and configure an Infrahub client using the Python SDK. You'll learn how to set up authentication, configure proxy settings, and customize client behavior for your infrastructure automation workflows.","content_scan_version":2}],"timestamp":"2025-10-09T17:28:10.737000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1425897646140428298","channel_id":"1425879430038814751","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"I had the INFRAHUB_TOKEN bur not the INFRAHUB_API_TOKEN.\nThanks <@1254387763982106755> , i'll give it   a try tonight.","mentions":[{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-09T17:24:54.565000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1425896823335424203","channel_id":"1425879430038814751","author":{"id":"706910273709146175","username":"jeyriku","avatar":"7bb7b47cfffa3aeda21987f7e5d963fd","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jeyriku","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"<@706910273709146175>  check your env settings or set the following:\nexport INFRAHUB_ADDRESS=\"http://localhost:8000\"\nexport INFRAHUB_API_TOKEN=\"06438eb2-8019-4776-878c-0941b1f1d1ec\"","mentions":[{"id":"706910273709146175","username":"jeyriku","avatar":"7bb7b47cfffa3aeda21987f7e5d963fd","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jeyriku","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-09T16:21:28.222000+00:00","edited_timestamp":"2025-10-09T16:21:59.715000+00:00","flags":0,"components":[],"id":"1425880858375618650","channel_id":"1425879430038814751","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1,"reactions":[{"emoji":{"id":null,"name":"üôè"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Can you please advise ? Thanks in advance.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-09T16:16:41.431000+00:00","edited_timestamp":"2025-10-09T16:16:48.237000+00:00","flags":0,"components":[],"id":"1425879655487115436","channel_id":"1425879430038814751","author":{"id":"706910273709146175","username":"jeyriku","avatar":"7bb7b47cfffa3aeda21987f7e5d963fd","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jeyriku","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi guys,\n\nAn error occurs while attempting to perform a : \"/opt/infrahub/bin/infrahubctl schema check\"\n\n/opt/infrahub/bin/infrahubctl schema check \"jeylaninfrahub/schemas\" --branch \"add_devices\":\n\nHTTP communication failure: Client error '401 Unauthorized' for url 'http://localhost:8000/api/schema/check?branch=add_devices'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401 on POST to http://localhost:8000/api/schema/check?branch=add_devices\n\nIs the SDK supposed to append the token when using infrahubctl schema check ?\n\nAn other issue also arised when triggering /opt/infrahub/bin/infrahubctl info as you can see in attachment.","mentions":[],"mention_roles":[],"attachments":[{"id":"1425879430630342657","filename":"message.txt","size":14364,"url":"https://cdn.discordapp.com/attachments/1425879430038814751/1425879430630342657/message.txt?ex=6933adf3&is=69325c73&hm=c0122a7313009f16e38954c575a3c5d91220a49327a2f77a5cfb7f2805c97e4f&","proxy_url":"https://media.discordapp.net/attachments/1425879430038814751/1425879430630342657/message.txt?ex=6933adf3&is=69325c73&hm=c0122a7313009f16e38954c575a3c5d91220a49327a2f77a5cfb7f2805c97e4f&","content_type":"text/plain; charset=utf-8","original_content_type":"text/plain","content_scan_version":2}],"embeds":[{"type":"article","url":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401","title":"401 Unauthorized - HTTP | MDN","description":"The HTTP 401 Unauthorized client error response status code indicates that a request was not successful because it lacks valid authentication credentials for the requested resource.\nThis status code is sent with an HTTP WWW-Authenticate response header that contains information on the authentication scheme the server expects the client to includ...","provider":{"name":"MDN Web Docs"},"thumbnail":{"url":"https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png","proxy_url":"https://images-ext-1.discordapp.net/external/hUVa2hDz_JFyaKisVwEf7NLXWZPTB7vljw-2UNKPADs/https/developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png","width":1920,"height":1080,"content_type":"image/png","description":"The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background.","flags":0},"content_scan_version":2}],"timestamp":"2025-10-09T16:15:47.680000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1425879430038814751","channel_id":"1425879430038814751","author":{"id":"706910273709146175","username":"jeyriku","avatar":"7bb7b47cfffa3aeda21987f7e5d963fd","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jeyriku","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]