[{"thread":{"id":"1412010631690977310","type":11,"last_message_id":"1412559786754703494","flags":0,"guild_id":"1212332642801025064","name":"Mutation query variables","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"655596743605485570","thread_metadata":{"archived":true,"archive_timestamp":"2025-10-02T22:13:36.735000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-09-01T09:46:08.484000+00:00"},"message_count":6,"member_count":3,"total_message_sent":6,"applied_tags":["1304062716125773886"]},"messages":[{"type":0,"content":"https://github.com/opsmill/infrahub/pull/7134","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/pull/7134","title":"refactor(api): update query variables type from str to Any by muffi...","description":"Allow more flexible variable types in GraphQL queries by changing the type annotation from str to Any","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/9ab218083e8e09f9f7fbf16408364d0d2b24b31ff0df971cef49f2aba5a91de9/opsmill/infrahub/pull/7134","proxy_url":"https://images-ext-1.discordapp.net/external/LiuOdgQnSn3twdsquOAnbknlPGfHbjkJmPbBua2W_Hg/https/opengraph.githubassets.com/9ab218083e8e09f9f7fbf16408364d0d2b24b31ff0df971cef49f2aba5a91de9/opsmill/infrahub/pull/7134","width":1200,"height":600,"description":"Allow more flexible variable types in GraphQL queries by changing the type annotation from str to Any","flags":0},"content_scan_version":2}],"timestamp":"2025-09-02T22:08:17.254000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1412559786754703494","channel_id":"1412010631690977310","author":{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"Thanks, will raise one today","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-09-02T14:46:35.932000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1412448632153702501","channel_id":"1412010631690977310","author":{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"Thanks <@655596743605485570> , I think you're right, feel free to send a PR\nAs a workaround, you should be able to use the GET method for `/api/query`, I haven't tested it but looking at the code it should work","mentions":[{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-09-02T04:40:05.585000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1412295999975719024","channel_id":"1412010631690977310","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Thank you very much for the bug report.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-09-01T16:10:41.949000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1412107408817258557","channel_id":"1412010631690977310","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Raised a github issue here https://github.com/opsmill/infrahub/issues/7119","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/7119","title":"bug: Mutation query variable type ¬∑ Issue #7119 ¬∑ opsmill/infrahub","description":"Component API Server / GraphQL Infrahub version 1.4.3 Current Behavior Consider I have a mutation query which accepts a variable of type Int/BigInt an example from demo.infrahub.app : https://demo....","color":1975079,"provider":{"name":"GitHub"},"content_scan_version":2}],"timestamp":"2025-09-01T10:05:37.797000+00:00","edited_timestamp":"2025-09-01T10:05:52.006000+00:00","flags":0,"components":[],"id":"1412015536145039370","channel_id":"1412010631690977310","author":{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"probably this needs to be updated to include Any type\n\nhttps://github.com/opsmill/infrahub/blob/8194ce685b07aeb4429237316ea5071531cda256/backend/infrahub/api/query.py#L42","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/blob/8194ce685b07aeb4429237316ea5071531cda256/backend/infrahub/api/query.py","title":"infrahub/backend/infrahub/api/query.py at 8194ce685b07aeb4429237316...","description":"Infrahub offers a central hub to manage the data, templates and playbooks that powers your infrastructure by combining the version control and branch management capabilities of Git with the flexibl...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","proxy_url":"https://images-ext-1.discordapp.net/external/yif4JFNe61IUdbm075SVddIANj1I2Tj6Qu7wclLSL0g/https/repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","width":1280,"height":640,"content_type":"image/png","placeholder":"z6YJHIp3eHh/iId2iIeGcGUIVw==","placeholder_version":1,"description":"Infrahub offers a central hub to manage the data, templates and playbooks that powers your infrastructure by combining the version control and branch management capabilities of Git with the flexibl...","flags":0},"content_scan_version":2}],"timestamp":"2025-09-01T10:01:46.019000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1412014563997650964","channel_id":"1412010631690977310","author":{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Consider I have a mutation query which accepts a variable of type Int/BigInt\n\nan example from demo.infrahub.app : https://demo.infrahub.app/objects/CoreGraphQLQuery/18611efe-05a8-49d6-d02e-10655a76730b\n\n```mutation ($vlan: BigInt) {\n  InfraVLANCreate(\n    data: {\n      name: {value: \"abc\"}\n      vlan_id: {value: $vlan}\n      status: {value: \"active\"}\n      role:  {\n         value: \"user\"\n      }\n    }\n  ) {\n    ok\n    object {\n      id\n      hfid\n    }\n  }\n}```\n\nThe mutation query works fine if i pass the vlan as an integer in the sandbox but if I use the same query via the graphql api endpoint, i get a type error stating that vlan_id should be a string (and if i pass a string , i'll get a graphql error saying that vlan_id should be an integer).\n\nI think there is some problem with the API validation as it expects all values to be of type string.\n\nHere's the example code for the demo instance\n\n```\ntoken = \"18611f02-e96f-1a79-d026-10652e03159e\"\nurl = \"https://demo.infrahub.app/api/query/create_vlan\"\nimport httpx\nheaders = {\"X-INFRAHUB-KEY\": token, \"accept\": \"application/json\", \"Content-Type\": \"application/json\"}\ndata = {\"variables\" : {'vlan_id': 1234}}\noutput = httpx.post(url,  headers=headers, json=data)\n\noutput.text\n'{\"detail\":[{\"type\":\"string_type\",\"loc\":[\"body\",\"variables\",\"vlan_id\"],\"msg\":\"Input should be a valid string\",\"input\":1234}]}'\n```","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"link","url":"https://demo.infrahub.app/objects/CoreGraphQLQuery/18611efe-05a8-49d6-d02e-10655a76730b","title":"Infrahub","description":"Unleash the full power of infrastructure automation","content_scan_version":2}],"timestamp":"2025-09-01T09:46:08.484000+00:00","edited_timestamp":"2025-09-01T09:48:27.521000+00:00","flags":0,"components":[],"id":"1412010631690977310","channel_id":"1412010631690977310","author":{"id":"655596743605485570","username":"overloadbit","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"overloadbit","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]