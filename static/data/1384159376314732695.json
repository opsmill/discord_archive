[{"thread":{"id":"1384159376314732695","type":11,"last_message_id":"1407435057848647741","flags":0,"guild_id":"1212332642801025064","name":"User-defined artifact validation on PC","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"811281824768458793","thread_metadata":{"archived":true,"archive_timestamp":"2025-09-18T18:50:32.392000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-06-16T13:15:11.751000+00:00"},"message_count":7,"member_count":4,"total_message_sent":7,"applied_tags":["1301915943663960064","1322475882421555200"]},"messages":[{"type":0,"content":"Oh alright so it is expected behaviour for now. \nLooking forward to this feature ðŸ˜„ \nI also like the idea of having global artifact_deifinition as mentioned in the issue. \nThank you <@370964598284746752>","mentions":[{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-19T18:44:26.670000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1407435057848647741","channel_id":"1384159376314732695","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"Hi <@811281824768458793> , this is the issue you're describing: https://github.com/opsmill/infrahub/issues/2214\n\nWe have discussed this internally recently with more to come in the near future.","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/2214","title":"task: Add ability to run incremental pipeline for Python Checks Â· ...","description":"Component API Server / GraphQL, Git Integration Task Description Currently this is possible for artifact_definitions, it should be possible to do with check_definitions too. Two differences: Lackin...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/c8b7f01231c38534e78e06a96f676321bcb1a95015b9f9b8c85c0a8b7d5901af/opsmill/infrahub/issues/2214","proxy_url":"https://images-ext-1.discordapp.net/external/Zy7Q1_ejQ4RIIPuX7KsUMGkhClSTvsitILRaMKrvUL8/https/opengraph.githubassets.com/c8b7f01231c38534e78e06a96f676321bcb1a95015b9f9b8c85c0a8b7d5901af/opsmill/infrahub/issues/2214","width":1200,"height":600,"content_type":"image/png","placeholder":"+vcJDIKGireZiHiZZn+Wb2H5Jg==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-08-19T15:21:51.920000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1407384077132234943","channel_id":"1384159376314732695","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"Hello team, can you please take a look at this.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-19T10:12:47.333000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1407306295496675372","channel_id":"1384159376314732695","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"Hello <@1221732604806692884> it is definitely the case that the targeted check runs agains all members of that group, even if they are outside the scope of the GQL query - behaves this way even for the simple Tag example from the [docs](https://docs.infrahub.app/guides/check#creating-a-targeted-check)\n\nSteps to reproduce:\n1. blank infrahub, import repository with a single targeted check and single query (from docs)\n2. create 3 tags and add them to group (from docs)\n3. create new branch, add new tag, associate it with the group\n4. create PC\n5. checks run agains all 4 tags\n\nExpected behaviour:\nOnly 1 check should run - for the newly added tag","mentions":[{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/guides/check","title":"Creating a Check | Infrahub Documentation","description":"Creating a Check","content_scan_version":2}],"timestamp":"2025-06-30T11:47:23.810000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389210711087120424","channel_id":"1384159376314732695","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"I am trying to run the check to do a dry-run deployment of the generated artifact to validate syntax and that all the components exist on the target device. The targeted check is ran against all of the group members, even when i change only one on the branch.\nAdded you as a maintainer to the repo, you can check/recreate the behaviour.\n[query](https://github.com/lancamat1/poc-infrahub-csob/blob/main/queries/NetautoApplicationCheck.gql)\n[check](https://github.com/lancamat1/poc-infrahub-csob/blob/main/checks/NetautoApplicationCheck.py)\nRegarding the unit tests and smoke tests, those are great, but they are not being picked up as checks on PC - might be because of my nested folder structure - tests/smoke/test_* and tests/unit/test_* they are great for local development as well.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-18T06:48:14.851000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1384786773309390911","channel_id":"1384159376314732695","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Checks should have a similar behaviour though, where we would only run the checks for objects that have changes in the data that is in scope of the GraphQL query. Are you saying that is not working?\n\nAlso, not sure if you are already familiar,  we have the resource testing framework. It allows you to develop unit tests for transforms (and other resources) without writing code and the tests can be run in the pipeline as well. \n\nThe idea is that we can validate the correct working of a transform by passing it \"mocked\" data and validate that it generates the correct output.\nhttps://docs.infrahub.app/topics/resources-testing-framework","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/topics/resources-testing-framework","title":"Resources testing framework | Infrahub Documentation","description":"Summary","content_scan_version":2}],"timestamp":"2025-06-18T04:57:49.383000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1384758984082460783","channel_id":"1384159376314732695","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"What kind of user-defined artifact validation check are you thinking about? Can you give us a more concrete example of what you mean with that?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-18T04:47:12.913000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1384756314533789750","channel_id":"1384159376314732695","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hello team,\n\nIâ€™m looking for ideas on implementing user-defined artifact validation checks as part of the CI pipeline on PC.\nMy goal is to validate only those artifacts that have changed, similar to how artifact_definition currently only regenerates changed artifacts. In other words i want to run this check against all the artifacts that show up on the artifact tab on PC. Right now, targeted checks run on all group members, which isnâ€™t ideal for this use case.\n\nMost approaches Iâ€™ve considered so far seem overly complex.\nDoing the filtering in Python (based on diff, timestamp, or checksum of the artifact) does not seem like the greatest idea, but seems like the only viable one so far.\n\nHow would you approach this problem? Any suggestions for a simpler or more elegant solution would be much appreciated!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-16T13:15:11.751000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1384159376314732695","channel_id":"1384159376314732695","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false}]}]