[{"thread":{"id":"1440895968982597756","type":11,"last_message_id":"1442437584373547171","flags":0,"guild_id":"1212332642801025064","name":"Unexpected Deletion Behavior","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"846244078575943680","thread_metadata":{"archived":false,"archive_timestamp":"2025-11-20T02:46:09.558000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-11-20T02:46:09.558000+00:00"},"message_count":6,"member_count":3,"total_message_sent":6,"applied_tags":["1301914864339648552","1304062716125773886"]},"messages":[{"type":0,"content":"Is it possible that it cascade from another path? e.g. VRF -> IP address -> Interface","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-24T08:51:59.309000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1442437584373547171","channel_id":"1440895968982597756","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"I see, the UI now shows on-delete no-action as I already set to no-action in schema.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-23T02:03:38.762000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441972433765535906","channel_id":"1440895968982597756","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"It may be set to `cascade` if you had the relationship kind as `Component` originally and you can set to `no-action` in your schema and load in the updated schema to set it appropriately.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-20T20:32:02.206000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441164205830180958","channel_id":"1440895968982597756","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Hi @Jin, for the relationship, do you see what the `on-delete` is set to in the UI?","mentions":[],"mention_roles":[],"attachments":[{"id":"1441163981854343169","filename":"image.png","size":11467,"url":"https://cdn.discordapp.com/attachments/1440895968982597756/1441163981854343169/image.png?ex=6933e9cc&is=6932984c&hm=405f861a9c3cf778ee678a93b1c00401d547a5eac5cc23efe21c0f9b15411236&","proxy_url":"https://media.discordapp.net/attachments/1440895968982597756/1441163981854343169/image.png?ex=6933e9cc&is=6932984c&hm=405f861a9c3cf778ee678a93b1c00401d547a5eac5cc23efe21c0f9b15411236&","width":1010,"height":84,"content_type":"image/png","original_content_type":"image/png","content_scan_version":2,"placeholder":"+/cBAYAGR5iMe8m5+XOTPzc=","placeholder_version":1}],"embeds":[],"timestamp":"2025-11-20T20:31:08.772000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441163981711610150","channel_id":"1440895968982597756","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Yes, I was switching the relationship kind between Generic, Attribute and Component. Can't recall the exact order. The Infrahub schema looks the same as my YAML.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-20T09:59:46.749000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441005092991143998","channel_id":"1440895968982597756","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Hey, from what I can see, I agree that deleting a VRF shouldnâ€™t delete `l3_interfaces`. During development, did you change the `kind` of the relationship? Also, can you check directly on Infrahub to see what the schema looks like there? Sometimes it can differ from the YAML files.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-20T09:44:29.911000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441001247493853185","channel_id":"1440895968982597756","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"In my schema screenshot, I would expect if I delete the VRF object, it will also remove the attribute in the interface. However it remove the whole InterfaceL3 object instead.\n\nI have to expicitly add on_delete: no-action in VRF to fix it though this should be the default: https://docs.infrahub.app/reference/schema/relationship#on_delete\n\nI'm on version 1.5.1","mentions":[],"mention_roles":[],"attachments":[{"id":"1440895970060669048","filename":"Screenshot_2025-11-20_at_10.27.10_AM.png","size":88207,"url":"https://cdn.discordapp.com/attachments/1440895968982597756/1440895970060669048/Screenshot_2025-11-20_at_10.27.10_AM.png?ex=693398f1&is=69324771&hm=e44bafdff5a696662f09d667ebd3e07b3694f02494a91ed3f34fe83d46b30127&","proxy_url":"https://media.discordapp.net/attachments/1440895968982597756/1440895970060669048/Screenshot_2025-11-20_at_10.27.10_AM.png?ex=693398f1&is=69324771&hm=e44bafdff5a696662f09d667ebd3e07b3694f02494a91ed3f34fe83d46b30127&","width":1428,"height":398,"content_type":"image/png","original_content_type":"image/png","content_scan_version":2,"placeholder":"yfcBAoCkL1mVdzpqcIkGiFg=","placeholder_version":1,"title":"Screenshot 2025-11-20 at 10.27.10â€¯AM"}],"embeds":[{"type":"article","url":"https://docs.infrahub.app/reference/schema/relationship","title":"Relationship | Infrahub Documentation","description":"In a schema file, a relationship can be defined inside a node, a generic or a node extension.","content_scan_version":2}],"timestamp":"2025-11-20T02:46:09.558000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440895968982597756","channel_id":"1440895968982597756","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"ðŸ‘‹"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]}]}]