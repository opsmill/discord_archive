[{"thread":{"id":"1333896143033335971","type":11,"last_message_id":"1334196225506939022","flags":0,"guild_id":"1212332642801025064","name":"InfraHub as a QoS measurement backend: DepC replacement","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"1033714246774706206","thread_metadata":{"archived":true,"archive_timestamp":"2025-02-28T16:23:40.279000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-01-28T20:27:03.091000+00:00"},"message_count":7,"member_count":4,"total_message_sent":7,"applied_tags":["1301915552855494666"]},"messages":[{"type":19,"content":"Maintenance impact calculation is a very attractive use case indeed","mentions":[{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T16:19:28.328000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334196225506939022","channel_id":"1333896143033335971","author":{"id":"1033714246774706206","username":"sdktr","avatar":"9ee9b95b734aa5beefcd1f92c99b08b0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Stefan de Kooter","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1333896143033335971","message_id":"1334184502984966156","guild_id":"1212332642801025064"},"position":6,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":4,"count_details":{"burst":0,"normal":4},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0},{"emoji":{"id":null,"name":"ü¶¶"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}],"referenced_message":{"type":0,"content":"We had also hoped to have a way to export the graph connectivity in IH. Our hope was to use it for doing maintenance activity announcements. If we can get a full export of the graph connectivity we can remove nodes and edges that are planned to be impacted by the maintenance and then calculate the paths for every circuit we have sold to see if they will be impacted or not by the maintenance.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T15:32:53.461000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334184502984966156","channel_id":"1333896143033335971","author":{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4}},{"type":0,"content":"<@123965055434883073> makes a lot of sense, \ncc <@651605693257875456> for visibility","mentions":[{"id":"651605693257875456","username":"lykinsbd","avatar":"74f22ce88a25ea04460c8d46a09acfde","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"brett","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T16:08:39.591000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334193504506740846","channel_id":"1333896143033335971","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":2,"count_details":{"burst":0,"normal":2},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"We had also hoped to have a way to export the graph connectivity in IH. Our hope was to use it for doing maintenance activity announcements. If we can get a full export of the graph connectivity we can remove nodes and edges that are planned to be impacted by the maintenance and then calculate the paths for every circuit we have sold to see if they will be impacted or not by the maintenance.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T15:32:53.461000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334184502984966156","channel_id":"1333896143033335971","author":{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":4,"count_details":{"burst":0,"normal":4},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0},{"emoji":{"id":null,"name":"üëÄ"},"count":2,"count_details":{"burst":0,"normal":2},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Yeah this is exactly what I had in mind\nif think hostname and interface makes more sense whenever possible, as long as they are \"unique\"\nAs you know, in Infrahub we can define your own uniqueness constraints so this would be easy to check","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T13:44:10.903000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334157145393856624","channel_id":"1333896143033335971","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"how would you link the tsdb metrics to the correct Node in IH? \nOn metric ingestion, add enough labels to the metric so that a match can be made upon reading the data I guess. Based on 'loose' search or a strict match?\nLoose: add labels for hostname and interface\nStrict: add a specific node GUID\n\nShould the ingestion or the read be more 'expensive'","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T08:04:32.359000+00:00","edited_timestamp":"2025-01-29T13:32:22.732000+00:00","flags":0,"components":[],"id":"1334071671585505340","channel_id":"1333896143033335971","author":{"id":"1033714246774706206","username":"sdktr","avatar":"9ee9b95b734aa5beefcd1f92c99b08b0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Stefan de Kooter","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"please keep us posted if you are planning to implement that. I'm sure there are some features we could add to make Infrahub an even better fit for this use case\nFor example, we are not (yet) exposing a way to execute a traversal query to retrieve all the paths between 2 points. This is something we can do internally but we don't have a API for it. \nNot 100% sure if this is required for this use case, but my point is that we have a lot of ideas that aren't documented yet üòÉ","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T05:49:28.001000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334037679444328512","channel_id":"1333896143033335971","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"<@1033714246774706206> that sounds like a great use case for Infrahub indeed. \nAs you mentioned, it's probably best to store the telemetry data in a dedicated TSDB but the dependency graph is a great fit for Infrahub","mentions":[{"id":"1033714246774706206","username":"sdktr","avatar":"9ee9b95b734aa5beefcd1f92c99b08b0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Stefan de Kooter","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-29T05:41:40.130000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1334035717050990592","channel_id":"1333896143033335971","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi guys, are you aware of an (old-ish?) neo4j based project from OVH called 'DepC'?\nhttps://blog.ovhcloud.com/introducing-depc-the-ovh-platform-for-computing-qos/\nThe TL;DR of their main objective is pushing node based performance metrics into the TSDB and use the graph backend and QoS definitions of node relations to calculate an overall service availability based on that. Because the graph holds all the dependencies that make up an end-to-end service it will help answer the 'was my service up' question.\n\nI remembered this (unfortunately abandoned?) project in one of my InfraHub tinkering sessions. IH doesn't seem to aim for a 'state database' role itself. But having a graph based CMDB makes for a really interesting way of storing the actual service dependencies and fetching the needed metrics from an external TSDB, just as DepC seems to do.\n\nCurious to hear what your thoughts are on using IH as a potential/partial replacement for DepC.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://blog.ovhcloud.com/introducing-depc-the-ovh-platform-for-computing-qos/","title":"Introducing DepC: the OVH platform for computing QoS - OVHcloud Blog","description":"At OVH, our first mission as a cloud service provider is to provide products with high quality of service (QoS). Whether they are dedicated servers, cloud servers or hosted websites, our customers expect our solutions to be very high quality. And that‚Äôs exactly what our teams strive to offer you on a daily basis! It‚Äôs [‚Ä¶]","provider":{"name":"OVHcloud Blog"},"content_scan_version":2}],"timestamp":"2025-01-28T20:27:03.091000+00:00","edited_timestamp":"2025-01-28T20:37:12.911000+00:00","flags":0,"components":[],"id":"1333896143033335971","channel_id":"1333896143033335971","author":{"id":"1033714246774706206","username":"sdktr","avatar":"9ee9b95b734aa5beefcd1f92c99b08b0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Stefan de Kooter","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"üëÄ"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]}]}]