{"thread":{"id":"1430137820739010652","type":11,"last_message_id":"1431115799942266971","flags":0,"guild_id":"1212332642801025064","name":"Custom Webhook Configuration Example","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"846244078575943680","thread_metadata":{"archived":true,"archive_timestamp":"2025-11-23T03:05:50.769000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-10-21T10:17:07.140000+00:00"},"message_count":7,"member_count":2,"total_message_sent":7,"applied_tags":["1301915943663960064","1301915115469410304"]},"messages":[{"type":0,"content":"Thanks for the reminder. I’m trying to optimize traffic, so if Infrahub can feed the artifact directly to Ansible, there’s no need for Ansible to fetch it. Every fetch counts. Anyway, I’ll put that on hold for now and focus on getting the whole pipeline working first. We can always optimize it later.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-24T03:03:15.552000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1431115799942266971","channel_id":"1430137820739010652","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"If you are using transforms and not artifacts you could use Ansible to query the the transform URI to get the result and then use the result to push to the device.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-22T08:54:55.247000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430479522746077245","channel_id":"1430137820739010652","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"You can use these modules to fetch the artifacts and apply them to the desired device this might also use the dynamic inventory for this also which is available in both Ansible/Nornir.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-22T08:54:01.104000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430479295654133762","channel_id":"1430137820739010652","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"We have an ansible collection to be able to help with this scenario. \n\nFor example the artifact_fetch module can be used to pull artifacts for a device:\n\nhttps://docs.infrahub.app/ansible/references/plugins/artifact_fetch_module\n\nWe also have a similar task for Nornir.\n\nhttps://docs.infrahub.app/nornir/references/plugins/artifact_tasks","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/ansible/references/plugins/artifact_fetch_module","title":"artifact_fetch | Infrahub Documentation","description":"Fetch the content of an artifact from Infrahub","content_scan_version":2},{"type":"article","url":"https://docs.infrahub.app/nornir/references/plugins/artifact_tasks","title":"Artifact management plugin | Infrahub Documentation","description":"regeneratehostartifact","content_scan_version":2}],"timestamp":"2025-10-22T08:53:01.330000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430479044943544410","channel_id":"1430137820739010652","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Hi Alex, may I ask what’s the common practice for passing network configurations (for example, interface settings) to Ansible for execution, such as pushing configs to devices?\n\nWe’re working on using a custom webform transformation to generate a YANG-compliant payload (if possible) for Ansible, which will then use NETCONF to push the configuration to devices.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-22T02:06:20.173000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430376699073138769","channel_id":"1430137820739010652","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"```\nclass WebhookTransform(InfrahubTransform):\n    query = \"test\"\n\n    async def transform(self, data):\n\n        print(data)\n        return {\"data\": {}}\n```\n\nFor example","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-21T11:04:19.636000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430149701088448532","channel_id":"1430137820739010652","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"```\nCustom webhooks might be useful in situations where the endpoint needs a specific payload to be successful. A use-case that might need this would be triggering external actions in platforms like GitHub and GitLab.\n\nThe data passed into a normal Python transformation will typically be the result of the GraphQL query, but webhooks execute the transform by passing in the webhook data instead.\n\nCurrently, it is required to define a GraphQL query to be defined on a transform regardless of whether it is used for a custom webhook or not. In the future, this will not be required.\n```\n\nIf you just print out the data recieved by the transform you should be able to see the data structure you have to work with.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-10-21T11:00:33.690000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430148753402364066","channel_id":"1430137820739010652","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi, I'm encountering some errors (see attached screenshot) while trying to configure a custom webhook with a transformation. My goal is to parse the openconfig-interfaces artifact as a payload for Ansible. Can someone point me to any working examples of a custom webhook transformation configuration? Thank you.","mentions":[],"mention_roles":[],"attachments":[{"id":"1430137821120958494","filename":"Screenshot_2025-10-21_at_6.12.31_PM.png","size":354993,"url":"https://cdn.discordapp.com/attachments/1430137820739010652/1430137821120958494/Screenshot_2025-10-21_at_6.12.31_PM.png?ex=693402a3&is=6932b123&hm=4d96c31d84c1d6f4d5b5930e3d64c68dec9b5fd3dd7d7ae85a0dcfcb79eea245&","proxy_url":"https://media.discordapp.net/attachments/1430137820739010652/1430137821120958494/Screenshot_2025-10-21_at_6.12.31_PM.png?ex=693402a3&is=6932b123&hm=4d96c31d84c1d6f4d5b5930e3d64c68dec9b5fd3dd7d7ae85a0dcfcb79eea245&","width":2314,"height":688,"content_type":"image/png","original_content_type":"image/png","content_scan_version":2,"placeholder":"+vcFAoCQh2iHiPh6oHgNfKg=","placeholder_version":1,"title":"Screenshot 2025-10-21 at 6.12.31 PM"}],"embeds":[],"timestamp":"2025-10-21T10:17:07.140000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1430137820739010652","channel_id":"1430137820739010652","author":{"id":"846244078575943680","username":"jinh0e","avatar":"64dabc243532002393161796f39770a0","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jin","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}