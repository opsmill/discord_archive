[{"thread":{"id":"1331673880040837140","type":11,"last_message_id":"1331743332724113539","flags":0,"guild_id":"1212332642801025064","name":"Node.attribute vs Inherited Node","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"1268206427810435166","thread_metadata":{"archived":true,"archive_timestamp":"2025-04-06T19:59:28.905000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-01-22T17:16:34.306000+00:00"},"message_count":7,"member_count":4,"total_message_sent":7,"applied_tags":["1301914864339648552","1322475882421555200"]},"messages":[{"type":0,"content":"Yeah that makes sense","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T21:52:33.116000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331743332724113539","channel_id":"1331673880040837140","author":{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"You can have several generic and have a Â«Â mixinÂ Â» node, you have some examples of this in the schema library.\n\nFor the interfaces https://github.com/opsmill/schema-library/pull/28, you could need to link a l3 interface or a interface, or a sub interface depending of the context, if you build several generic, it will allow this flexibility","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T21:42:23.590000+00:00","edited_timestamp":"2025-01-22T21:50:25.217000+00:00","flags":0,"components":[],"id":"1331740776186646641","channel_id":"1331673880040837140","author":{"id":"1133022375051542558","username":"shabear_dis","avatar":"e5046d674427373d76e2dde9dc74feb5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Benito","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":19,"content":"How would your interface example work out for L3 Subinterface then? They have both Vlan information and ip addresses? Would you build another interface type?","mentions":[{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T21:17:21.371000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331734475423482007","channel_id":"1331673880040837140","author":{"id":"123965055434883073","username":"themar4321","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Themar","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1331673880040837140","message_id":"1331720489772777514","guild_id":"1212332642801025064"},"position":4,"referenced_message":{"type":0,"content":"This is a great question and we definitely need to document that better.\nFor me the main benefit to use nodes inheritance vs using a role is if you need/want to have   specific attribute or relationship for each type of nodes.\nFor example, for interfaces, Inheritances works really well because a L2 and a L3 interfaces have very different schema : one should be related to one or more vlans while the other one can have some ip addresses ...\nWith inheritance, each interface can have a specific schema, each with their own mandatory attributes/relationships but at the same time it's possible to query all interfaces at once becuase they inherit from the same generic.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T20:21:46.932000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331720489772777514","channel_id":"1331673880040837140","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false}},{"type":0,"content":"Just in case, we had a few slides on this topic during a workshop we did at Autocon2 in Denver, might be helpful\nhttps://speakerdeck.com/dgarros/autocon2-workshop-data-modeling?slide=64","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://speakerdeck.com/dgarros/autocon2-workshop-data-modeling?slide=64","title":"Autocon2 - Workshop Data Modeling","description":"WS:B2 - Data Modeling & Network Source of Truth\n\nProctor: Damien Garros, OpsMill\nDescription: This workshop provides an introduction to data managemeâ€¦","author":{"name":"Damien Garros","url":"https://speakerdeck.com/dgarros"},"provider":{"name":"Speaker Deck","url":"https://speakerdeck.com/"},"thumbnail":{"url":"https://files.speakerdeck.com/presentations/fbf38486985b4f5189b9470ab1974c37/slide_63.jpg?32801057","proxy_url":"https://images-ext-1.discordapp.net/external/Ys4BIsZHZNS5XQ189oxLKmYlyV1ost3UpX2xacY6EZU/%3F32801057/https/files.speakerdeck.com/presentations/fbf38486985b4f5189b9470ab1974c37/slide_63.jpg","width":1500,"height":844,"content_type":"image/jpeg","placeholder":"ltcJHIKAaXeJd4ekZ2qAtFIVDg==","placeholder_version":1,"flags":0},"content_scan_version":1}],"timestamp":"2025-01-22T20:25:47.549000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331721498993360928","channel_id":"1331673880040837140","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3,"reactions":[{"emoji":{"id":null,"name":"ðŸ™"},"count":2,"count_details":{"burst":0,"normal":2},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"you could implement a higher level validation that will enforce that a L2 interface should have a vlan configured but it's harder to maintain and it's not something that you can document easily via the API etc ..","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T20:23:55.001000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331721026932838441","channel_id":"1331673880040837140","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"if you use a Role on an interface, you usually have to define all attributes/relationships as optional","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T20:22:17.483000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331720617912832042","channel_id":"1331673880040837140","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"This is a great question and we definitely need to document that better.\nFor me the main benefit to use nodes inheritance vs using a role is if you need/want to have   specific attribute or relationship for each type of nodes.\nFor example, for interfaces, Inheritances works really well because a L2 and a L3 interfaces have very different schema : one should be related to one or more vlans while the other one can have some ip addresses ...\nWith inheritance, each interface can have a specific schema, each with their own mandatory attributes/relationships but at the same time it's possible to query all interfaces at once becuase they inherit from the same generic.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T20:21:46.932000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331720489772777514","channel_id":"1331673880040837140","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"So I'm noticing a pattern in Infrahub. \n\nIn netbox/nautobot, I'm used to buildling a thing, and then creating a type of thing (Circuit -> Transit Circuit)\nIn IH, what I see inheritance InfraCircuit, InfraTransitCircuit\n\nThis leads to an interesting place where you can have both based on Schema design. There are some areas where it seems to make more sense to do the \"old model\": device types and roles come to mind. But on others where there are inherited attributes, or different per inherited class (Transit Circuit is similar to OOB Circuit, but there's some specialization in each) it makes sense to do it the IH way.\n\nCurious if there's any more thought process behind this. I have my opinions, but are there any far reaching consequences outside of how queries are written and parsed for other parts of the system(Aftifacts, Generators, etc.)?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-01-22T17:16:34.306000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1331673880040837140","channel_id":"1331673880040837140","author":{"id":"1268206427810435166","username":"scotho3","avatar":"90c6511092222bc6f42f2614fb0ebef7","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"scotho3","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false}]}]