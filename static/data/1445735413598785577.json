[{"thread":{"id":"1445735413598785577","type":11,"last_message_id":"1445768960841879552","flags":0,"guild_id":"1212332642801025064","name":"How to handle object deletion with generators","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"918504524610695168","thread_metadata":{"archived":false,"archive_timestamp":"2025-12-03T11:16:23.067000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-12-03T11:16:23.067000+00:00"},"message_count":3,"member_count":2,"total_message_sent":3,"applied_tags":["1301915943663960064"]},"messages":[{"type":0,"content":"Thanks <@1259824777879752785>","mentions":[{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-12-03T13:29:41.353000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1445768960841879552","channel_id":"1445735413598785577","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Hey, unfortunately generators don't manage scale down very well at the moment :/ \n\nWe have a few open issues around that: https://github.com/opsmill/infrahub/issues/3289\n\nOn paper, generators are designed with idempotency in mind. Behind every generator instance is a tracking group (essentially a group containing all objects touched by the generator). At the end of a generator run, Infrahub compares the targets from this group and deletes anything that exists in the group but not in the generator's output.\n\nFor more details, see the documentation: https://docs.infrahub.app/topics/generator\n\nThat covers the generator side. As for event triggers and actions, I believe supporting \"deletion\" as a trigger would require a new feature request. I'll create one.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/3289","title":"feature: deleting a generator target object should delete the creat...","description":"Component API Server / GraphQL Current Behavior It is not clear how a generator target object should be properly deleted within Infrahub. When you delete the target node from the target group, then...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/4eba0ed2fb90e33c138765d07b3176adfe9b0aa8f0d899254228c802c9340143/opsmill/infrahub/issues/3289","proxy_url":"https://images-ext-1.discordapp.net/external/SsFXyW6jCF76gVnxTfCHswsAPu8xpjYYvG1fsYl-1GI/https/opengraph.githubassets.com/4eba0ed2fb90e33c138765d07b3176adfe9b0aa8f0d899254228c802c9340143/opsmill/infrahub/issues/3289","width":1200,"height":600,"description":"Component API Server / GraphQL Current Behavior It is not clear how a generator target object should be properly deleted within Infrahub. When you delete the target node from the target group, then...","flags":0},"content_scan_version":2},{"type":"article","url":"https://docs.infrahub.app/topics/generator","title":"Generator | Infrahub Documentation","description":"A Generator is a generic plugin that queries data and creates new nodes and relationships based on the result.","content_scan_version":2}],"timestamp":"2025-12-03T13:15:04.297000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1445765282202128495","channel_id":"1445735413598785577","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"By the way, I might also be able to solve this in the schema with cascade delete, but I'm also curious if it's possible with rules, actions and generators.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-12-03T11:43:22.355000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1445742205384921119","channel_id":"1445735413598785577","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi,\n\nIs it possible to trigger deletion of an object using a generator based on deletion of another object?\n\nI use a generator to create Rack and Device objects based on another object called a Rack element, which ties together a rack design and a rack template.\n\nI have this working for creations and updates using rules and actions like:\n\n1. When rack element is created, add it to a group.\n2. When member is added to the group, trigger generator.\n3. When rack element is updated, trigger generator.\n\nIs there a way I can handle deletes? There is no `delete` mutation, I tried to get it to work with a rule which triggers on removing the object from the group but that doesn't work.\n\nI wonder if this is supported anyway, since how would you be able to query an object in a generator that no longer exists? Is there some other way which I could get this to work?\n\nThanks.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-12-03T11:16:23.067000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1445735413598785577","channel_id":"1445735413598785577","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]