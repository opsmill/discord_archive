{"thread":{"id":"1389193292432019496","type":11,"last_message_id":"1403428366031523842","flags":0,"guild_id":"1212332642801025064","name":"infrahubctl object load webhooks","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"811281824768458793","thread_metadata":{"archived":true,"archive_timestamp":"2025-09-07T17:31:16.421000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-06-30T10:38:10.879000+00:00"},"message_count":13,"member_count":4,"total_message_sent":13,"applied_tags":["1301915115469410304","1301915943663960064","1304062537364410420","1304062716125773886"]},"messages":[{"type":0,"content":"I think it has potential and worth opening an feature request for it.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-08T17:23:16.900000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403428366031523842","channel_id":"1389193292432019496","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":12},{"type":0,"content":"Awesome, thank you!\nI am also wondering if feature mentioned in #3 - associating generic with webhook node_kind would be usefull for anyone else. If yes I will create a feature request for it.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-08T16:33:37.964000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403415871468077088","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":11},{"type":0,"content":"<@811281824768458793> I was able to reproduce the issue: https://github.com/opsmill/infrahub/issues/6998\n\nThanks for your continued patience!","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/6998","title":"bug: Setting `node_kind` on standard webhook causes the webhook to ...","description":"Component API Server / GraphQL Infrahub version 1.3.5 Current Behavior When setting node_kind on a standard webhook, it appears that the webhook task does not start/sent. Expected Behavior Ability ...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/4a0564308bb4c6a4f2f00ca1014efe7ec99ebbffcbbee92dbe0da4dbd27c8f68/opsmill/infrahub/issues/6998","proxy_url":"https://images-ext-1.discordapp.net/external/fjMJqs3AL8IoolhcGgcSoyri4gm6DajWEkMxSRBoIZs/https/opengraph.githubassets.com/4a0564308bb4c6a4f2f00ca1014efe7ec99ebbffcbbee92dbe0da4dbd27c8f68/opsmill/infrahub/issues/6998","width":1200,"height":600,"content_type":"image/png","placeholder":"+fcFDIKWibiZh3iadm94f4D4Bw==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-08-08T15:17:41.121000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403396758683385887","channel_id":"1389193292432019496","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":10},{"type":0,"content":"No worries, thank you Mikhail!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-08T08:11:11.916000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403289429778501712","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":9},{"type":0,"content":"My apologies. It's been a bit crazy lately, but I will try and reproduce this tomorrow!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-07T22:10:28.384000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403138252248060054","channel_id":"1389193292432019496","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":8},{"type":0,"content":"Hello guys, sorry to bother with this again, but have you been able to reproduce this?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-07T20:46:35.265000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1403117141816770714","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":7},{"type":0,"content":"correct yeah","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-07-01T07:38:14.487000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389510396947333130","channel_id":"1389193292432019496","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"I know, but should be enabled for artifact events right?\n\nhttps://docs.infrahub.app/reference/infrahub-events#artifact-events","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/reference/infrahub-events","title":"Infrahub Events | Infrahub Documentation","description":"This document provides detailed documentation for all events used in the Infrahub event system.","content_scan_version":2}],"timestamp":"2025-07-01T07:31:40.526000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389508744555004016","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"Node kind is not enabled for all nodes. \n\nhttps://docs.infrahub.app/topics/webhooks#node-kind","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/topics/webhooks","title":"Webhooks | Infrahub Documentation","description":"The Webhook System enables external notifications based on the Events system within InfraHub, which also powers the Activity Log.","content_scan_version":2}],"timestamp":"2025-06-30T15:23:34.086000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389265112367628309","channel_id":"1389193292432019496","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"What you're describing should be possible. https://docs.infrahub.app/topics/webhooks\n\nLet me try and reproduce this, but if it's not working, it'd be worth it to submit a bug report.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/topics/webhooks","title":"Webhooks | Infrahub Documentation","description":"The Webhook System enables external notifications based on the Events system within InfraHub, which also powers the Activity Log.","content_scan_version":2}],"timestamp":"2025-06-30T14:38:02.103000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389253653600403606","channel_id":"1389193292432019496","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Thanks for the answer Mikhail\nRegarding #2\nI am unable to get the webhook to trigger when node_kind is selected for artifact events, maybe I am misunderstanding it.\nLets suppose I have a node NetworkDevice which is an artifact target.\nIf I have standart webhook without node_kind and artifact event the webhook triggers for changes to that artifact, but if I specify the node_kind to NetworkDevice the webhook no longer triggers for artifact changes associated with that device. Is this the expected behaviour?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-30T14:23:04.922000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389249890550415410","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Hi <@811281824768458793> , we have the following issue opened for the loading of webhooks via the `infrahubctl object` command: https://github.com/opsmill/infrahub/issues/6641 for #1 and #2\n\n#3 That would be good create a feature request for detailing your use-case to start a conversation for this.\n\n#4 As for the `shared_key`, I have added a comment to https://github.com/opsmill/infrahub/issues/6521.","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/6641","title":"bug: CoreStandardWebhookUpsert fails with `AttributeError` Â· Issue...","description":"Component API Server / GraphQL Infrahub version 1.2.12 Current Behavior Whenever I attempt to use the infrahubctl object load command to create a CoreStandardWebhook, it fails with an AttributeErro...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/80f940346ac15ac008c3291b18e9cc96d4569e771f107ea2305d48c60d88ad15/opsmill/infrahub/issues/6641","proxy_url":"https://images-ext-1.discordapp.net/external/0z6GTgZItSPMzsCV8-5wP-_jhEQoz0Ncf51V3i0GaIM/https/opengraph.githubassets.com/80f940346ac15ac008c3291b18e9cc96d4569e771f107ea2305d48c60d88ad15/opsmill/infrahub/issues/6641","width":1200,"height":600,"content_type":"image/png","placeholder":"+vcFDIJ3maiZh3iId394f4D3Bw==","placeholder_version":1,"flags":0},"content_scan_version":2},{"type":"article","url":"https://github.com/opsmill/infrahub/issues/6521.","title":"opsmill/infrahub","description":"Infrahub offers a central hub to manage the data, templates and playbooks that powers your infrastructure by combining the version control and branch management capabilities of Git with the flexibl...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","proxy_url":"https://images-ext-1.discordapp.net/external/yif4JFNe61IUdbm075SVddIANj1I2Tj6Qu7wclLSL0g/https/repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","width":1280,"height":640,"content_type":"image/png","placeholder":"z6YJHIp3eHh/iId2iIeGcGUIVw==","placeholder_version":1,"description":"Infrahub offers a central hub to manage the data, templates and playbooks that powers your infrastructure by combining the version control and branch management capabilities of Git with the flexibl...","flags":0},"content_scan_version":2}],"timestamp":"2025-06-30T14:07:59.747000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389246093971161098","channel_id":"1389193292432019496","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Forgot to add\ninfrahubctl version\nPython: 3.10.18\nPython SDK: v1.13.0","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-30T11:53:27.142000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389212235011719329","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hello team,\n\nI am running into issues when trying to create webhook objects with infrahubctl object load.\n```yaml\n---\napiVersion: infrahub.app/v1\nkind: Object\nspec:\n  kind: CoreStandardWebhook\n  data:\n    - name: \"artifact_created_main\"\n      event_type: \"infrahub.artifact.created\"\n      url: \"http://netauto-webhook.prefect.svc.cluster.local:5000/webhook\"\n      branch_scope: \"default_branch\"\n      shared_key: \"foo\"\n```\nValidation succeeds, but I run into this error when loading the objects:\n```\n['CoreStandardWebhookUpsert'] 'dict' object has no attribute 'node_kind'\n```\n\nHere are my questions/issues :\n\n1. **Should `node_kind` be optional?**  \n   When creating from the UI, it behaves as optional. Is this expected for object load as well?\n\n2. **Empty `node_kind` needed:**  \n   I need this field to be empty, otherwise the webhook does not trigger properly. When attached to the node kind the artifact is associated with, the webhook does not trigger for the `artifact.created` event type (possibly another bug).\n\n3. **Selecting `generic` as `node_kind`:**  \n   Would it be possible to select `generic` as the `node_kind`? The current options are to have no node_kind and do the separation logic on the webhook receiver side or create a webhook for each inherited node which is not that nicely scalable (and does not work for me as mentioned in Q2)\n\n4. **`shared_key` mandatory:**  \n   Is it expected that `shared_key` is a mandatory field? It seems a bit odd.\n\nThanks for your help!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-30T10:38:10.879000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1389193292432019496","channel_id":"1389193292432019496","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false}]}