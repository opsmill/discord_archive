[{"thread":{"id":"1319660352694255706","type":11,"last_message_id":"1319775389735981076","flags":0,"guild_id":"1212332642801025064","name":"Add a block of devices","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"1303043080634630154","thread_metadata":{"archived":true,"archive_timestamp":"2025-01-19T21:23:00.238000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2024-12-20T13:39:06.186000+00:00"},"message_count":13,"member_count":3,"total_message_sent":14,"applied_tags":["1301915235380363266"]},"messages":[{"type":0,"content":"great thanks","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T17:20:10.571000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319715987557318789","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":12},{"type":0,"content":"Assuming branch demo-data exists","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T17:13:50.938000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319714395261239380","channel_id":"1319660352694255706","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":11},{"type":0,"content":"```infrahubctl run snippet.py â€”branch demo-data```","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T17:13:24.089000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319714282648113215","channel_id":"1319660352694255706","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":10},{"type":0,"content":"And is there a delete option?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:54:26.929000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319709513053638666","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":9},{"type":0,"content":"Ok, I've cracked most of it, just curious if I can add devices to a branch?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:53:24.992000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319709253270896640","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":8,"reactions":[{"emoji":{"id":null,"name":"ðŸ‘"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"I've changed kind to InfraDevice - now just need to add locations and model to the mix as well,","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:24:07.902000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319701883501281402","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":7,"reactions":[{"emoji":{"id":null,"name":"ðŸ‘"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"And, how do I push this to a branch? - Thanks","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:20:42.645000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319701022590898177","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"one more quick question, I am using the models/examples/netbox.yml schema - where do I find the kind as this example says unable to find the schema 'DcimDevice' - thanks","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:19:11.480000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319700640217169991","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"ah yes needs to be in the same directory","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:11:10.396000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319698622404628555","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4,"reactions":[{"emoji":{"id":null,"name":"ðŸ™Œ"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"I think it needs to be in the current directory for it to be found, let me double check\nhttps://docs.infrahub.app/infrahubctl#configuration\n\nThere is an option to export those settings as environment variable:\n```bash\nexport INFRAHUB_ADDRESS=\"http://localhost:8000\"\nexport INFRAHUB_API_TOKEN=\"06438eb2-8019-4776-878c-0941b1f1d1ec\"\n```","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/infrahubctl","title":"Introduction | Infrahub Documentation","description":"infrahubctl is a command line utility designed to help with the day to day management of an Infrahub installation.","content_scan_version":0}],"timestamp":"2024-12-20T16:10:13.438000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319698383505723442","channel_id":"1319660352694255706","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Where is this defined Unable to connect to 'http://localhost:8000'. - I have an infrahubctl.toml file with the server ip","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:04:44.651000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319697004472963154","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Thanks for the snippet!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T16:01:56.931000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319696301004161144","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Hey Roger,\n\nHere is a quick snippet to get you started:\n\n```python\nimport logging\nfrom infrahub_sdk import InfrahubClient\n\n\nasync def run(\n    client: InfrahubClient, log: logging.Logger, branch: str, **kwargs\n) -> None:\n    for i in range(1, 101):\n        # here we +1 to not have switch 0\n        device_obj = await client.create(\n            kind=\"DcimDevice\",\n            name=f\"router{str(i)}\",\n            description=\"Demo device\",\n            status=\"active\",\n        )\n\n        await device_obj.save(allow_upsert=True)\n```\n\nYou can then run it using infrahubctl:\n```infrahubctl run snippet.py```","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T14:18:28.021000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319670258948116510","channel_id":"1319660352694255706","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"I am trying to find out how to add a group of devices progammatically. I just want to drop in a block of 100 devices for testing. Can anyone point me to some documentation - thanks","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-20T13:39:06.186000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1319660352694255706","channel_id":"1319660352694255706","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"ðŸ‘‹"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]}]}]