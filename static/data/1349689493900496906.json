[{"thread":{"id":"1349689493900496906","type":11,"last_message_id":"1349704783358857236","flags":0,"guild_id":"1212332642801025064","name":"sync k8s CI/CD to infrahub","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"1300537046833692725","thread_metadata":{"archived":true,"archive_timestamp":"2025-04-12T11:33:24.174000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-03-13T10:24:11.364000+00:00"},"message_count":4,"member_count":2,"total_message_sent":4,"applied_tags":["1301915943663960064","1301915115469410304","1304062537364410420"]},"messages":[{"type":0,"content":"I hope this help, happy to have more brainstorming","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-03-13T11:24:56.655000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1349704783358857236","channel_id":"1349689493900496906","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Since the artifacts in Infrahub are \"cached\" the agent could work with a pull system or (coming in 1.2) it could listen for a webhook from infrahub to know when the artifact has been updated","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-03-13T11:24:29.407000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1349704669072461866","channel_id":"1349689493900496906","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Regarding the other options, everything is available via the API for Infrahub so a lot of solutions should be possible\nYou could generate manifests in JSON format (or Yaml) and have an agent / script that will automatically push them to K8s","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-03-13T11:23:14.861000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1349704356404006943","channel_id":"1349689493900496906","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"ðŸ‘‹ <@1300537046833692725> \nCommitting the artifact back to a git repository make sense, it has come up a few times but this is not something Infrahub can do today\nSome customers are managing that outside of infrahub with a GH Actions liek take that will pull the artifacts from infrahub and commit them to git","mentions":[{"id":"1300537046833692725","username":"simli133","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Simon linder","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-03-13T11:20:19.165000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1349703619481567333","channel_id":"1349689493900496906","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hello everyone,\n\nAs part of our Bachelor Thesis led by Urs Baumann, we are exploring ways to integrate InfraHub with Kubernetes. One idea is to generate valid Kubernetes manifests as artifacts and deploy them using a CI/CD tool like ArgoCD or Flux.\n\nWith ArgoCD, we could package the `infrahub-sdk` into an ArgoCD Config Management Plugin. This plugin would be responsible for rendering the manifests during the CI/CD sync process. However, since ArgoCD requires syncing from a Git or OCI repository, we would need to commit an id or even the generated artifacts to a shadow repository during the transformation to facilitate the sync.\n\nA more elegant solution would be to sync directly with Infrahub since it has a git-like system. \n-> Is there a Git-like API we could use to sync artifacts (like sync to main @commit x), or perhaps a way to interact directly with the objects in the GraphQL database? Alternatively, do you see a better approach for extracting Kubernetes manifests from InfraHub?\n\nWe appreciate any insights or suggestions you may have!\n\nBest regards,","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-03-13T10:24:11.364000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1349689493900496906","channel_id":"1349689493900496906","author":{"id":"1300537046833692725","username":"simli133","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Simon linder","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]