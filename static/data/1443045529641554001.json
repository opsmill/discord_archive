[{"thread":{"id":"1443045529641554001","type":11,"last_message_id":"1443745967718400204","flags":0,"guild_id":"1212332642801025064","name":"Issue: common_parent validation fails for hierarchical parents","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"811281824768458793","thread_metadata":{"archived":false,"archive_timestamp":"2025-11-26T01:07:44.756000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-11-26T01:07:44.756000+00:00"},"message_count":18,"member_count":4,"total_message_sent":18,"applied_tags":["1301914864339648552","1304062716125773886"]},"messages":[{"type":19,"content":"Not sure if it will make it for the next release, but doing our best üòÖ","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-27T23:31:02.207000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443745967718400204","channel_id":"1443045529641554001","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1443045529641554001","message_id":"1443728392523354163","guild_id":"1212332642801025064"},"position":17,"referenced_message":{"type":0,"content":"Amazing, thanks <@1221732604806692884>. Was able to run it. I see that you also added the tests today. Do you plan on putting this feature into the next release?","mentions":[{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-27T22:21:11.954000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443728392523354163","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":15}},{"type":19,"content":"Might be an idea for the future. Right now I am not looking to optimise the model üòÑ and ideally the infrahub schema would be somehow generated directly from the nac json schema as it evolves.","mentions":[{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-27T22:24:19.797000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443729180394262528","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1443045529641554001","message_id":"1443342076690567238","guild_id":"1212332642801025064"},"position":16,"referenced_message":{"type":0,"content":"<@811281824768458793> what if you'll change a bit modeling and put tenant - > vrf -> BD -> EGPs ... if you will put VRF in a center if may simplify the modelling a lot ...","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T20:46:07.082000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443342076690567238","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":12}},{"type":0,"content":"Amazing, thanks <@1221732604806692884>. Was able to run it. I see that you also added the tests today. Do you plan on putting this feature into the next release?","mentions":[{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-27T22:21:11.954000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443728392523354163","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":15},{"type":0,"content":"<@811281824768458793>  I did a quick poc on this, if you want to give it a try, you can build an image from this branch:\nhttps://github.com/opsmill/infrahub/tree/wvd-20251125-same-parent-constraints-for-hierarchical-nodes\nStill needs a bit of cleanup, the filtering in the form is not yet implemented and need to implement some tests.","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/tree/wvd-20251125-same-parent-constraints-for-hierarchical-nodes","title":"GitHub - opsmill/infrahub at wvd-20251125-same-parent-constraints-f...","description":"Infrahub is a graph-based data management platform with built-in version control, CI workflows, peer review, and API access. It‚Äôs purpose-built to power reliable infrastructure automation at scale....","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","proxy_url":"https://images-ext-1.discordapp.net/external/yif4JFNe61IUdbm075SVddIANj1I2Tj6Qu7wclLSL0g/https/repository-images.githubusercontent.com/528799794/9923fd8f-9f0e-44a4-97ad-1ec81a3e0046","width":1280,"height":640,"content_type":"image/png","placeholder":"z6YJHIp3eHh/iId2iIeGcGUIVw==","placeholder_version":1,"description":"Infrahub is a graph-based data management platform with built-in version control, CI workflows, peer review, and API access. It‚Äôs purpose-built to power reliable infrastructure automation at scale....","flags":0},"content_scan_version":2}],"timestamp":"2025-11-26T22:26:18.119000+00:00","edited_timestamp":"2025-11-26T22:38:06.639000+00:00","flags":0,"components":[],"id":"1443367288807100526","channel_id":"1443045529641554001","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":14},{"type":0,"content":"as all the most important services are deployed around VRF, L3OUTs, PBRs , BDs and so on ..","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T20:48:20.398000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443342635858264288","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":13},{"type":0,"content":"<@811281824768458793> what if you'll change a bit modeling and put tenant - > vrf -> BD -> EGPs ... if you will put VRF in a center if may simplify the modelling a lot ...","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T20:46:07.082000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443342076690567238","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":12},{"type":0,"content":"Thanks! Which schema did you use? Seems like a subset of the 25k+ lines one I used as a reference üòÑ https://github.com/netascode/schema\nBummer I did not find it sooner, yours is similar to the one I currently have, but definitely still very helpful.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/netascode/schema","title":"GitHub - netascode/schema","description":"Contribute to netascode/schema development by creating an account on GitHub.","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/687c80986025c7db7c1c709476e271a3527d1ea97b26a541e0ea418eb9818928/netascode/schema","proxy_url":"https://images-ext-1.discordapp.net/external/lsfhjnb9Dv7IgdoXVNz6M89UF2z7jAdO6wgIqwDETFk/https/opengraph.githubassets.com/687c80986025c7db7c1c709476e271a3527d1ea97b26a541e0ea418eb9818928/netascode/schema","width":1200,"height":600,"content_type":"image/png","placeholder":"/vcBBIC3eJlxeph3iH8/svoTqw==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-11-26T20:38:41.543000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443340207964422327","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":11},{"type":0,"content":"Side note <@811281824768458793> I took an attempt at converting netascode schema to Infrahub schema here. Not 100% validated though: https://github.com/opsmill/schema-library/tree/pmc-cisco-netascode/experimental/cisco_netascode","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/schema-library/tree/pmc-cisco-netascode/experimental/cisco_netascode","title":"schema-library/experimental/cisco_netascode at pmc-cisco-netascode ...","description":"Welcome to the Schema Library for Infrahub. This repository contains a collection of schemas that are designed to streamline and standardize infrastructure-related data structures. - opsmill/schema...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://repository-images.githubusercontent.com/835600671/8a37cfa1-a41b-454c-a341-f4fa092fb9ec","proxy_url":"https://images-ext-1.discordapp.net/external/kzMjAvrDKhqJEzQu3sGfHWCohQjRwxLk2x_tVWGHXjc/https/repository-images.githubusercontent.com/835600671/8a37cfa1-a41b-454c-a341-f4fa092fb9ec","width":1280,"height":640,"content_type":"image/png","placeholder":"z6YJHIh4eHh/iId2iIiGcGUIVw==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-11-26T20:13:42.113000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443333918899048540","channel_id":"1443045529641554001","author":{"id":"1212726983944052798","username":"pete_crocker","avatar":"2ce15ce78115631a666e77b58952f91e","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Pete Crocker","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":10,"reactions":[{"emoji":{"id":null,"name":"‚ù§Ô∏è"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Well, all depends from you scale ... but if you reach the state that your fabric needs 5 APIC controllers  to manage 400 leafs ... something is wrong.  My advise : simplify the model to your use cases (as long as you're not vendor and you're not using all possible features), don't model things you're not using, generate json payload (vendor claims it's idempotent), validate data in infrahub, push it to the APIC,  make smart port implementation  tests  and enjoy free time.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T20:08:24.689000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443332587526295675","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":9},{"type":0,"content":"True, NDO sucks big time, not in my scope at all üòÑ Multi pod is fine for 99% of multi site use-cases anyways. Have not had issues with the deployment scaling part and they are quite fast. If you have multiple terraform state files (for example one for each tenant) I also run bunch of validations beforehand that take more time than the deployment itself. The main benefits remain, you can see and confirm the planned changes, validate them and have them deployed in a single transaction. From what I have heard and experienced myself the ACI provider is quite good.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T19:53:36.514000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443328862250467502","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":8},{"type":0,"content":"I have been working with this model before it was public , went over  ansible, terraform ... and now OpenTofu .. .when you 'll add on top of it this https://netascode.cisco.com/docs/data_models/ndo/schema/application_profile/ you'll finish in the hell of dependencies. On top of that, if you use the recommended deployment methods, just brew your coffee, binge your favorite series, and by the time you're done, your fabric will be deployed (if it's not the 10 leaf demo fabric) at least ot the controller ... and you hope that controller will do the job (or not) and push the config to the switches.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://netascode.cisco.com/docs/data_models/ndo/schema/application_profile/","title":"Application Profile","description":"Manage Networks following Infrastructure as Code principles.","provider":{"name":"Network as Code"},"content_scan_version":2}],"timestamp":"2025-11-26T19:33:37.027000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443323831237218365","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":7},{"type":19,"content":"I'm not trying to replicate the exact ACI object tree. Instead, I'm modeling the community-developed data model from [net as code](https://netascode.cisco.com/docs/data_models/apic/overview/) and using Infrahub to generate the YAML variable files as artifacts - starting with the simplified Tenant section.\nThis approach would enable intent-based ACI management and make deploying services on top much simpler. I know this might not be the optimal solution, but it's worth experimenting with! The new 1.6 feature that adds explicit merge commits during repository operations was the final push I needed to give this a shot.","mentions":[{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://netascode.cisco.com/docs/data_models/apic/overview/","title":"Overview","description":"Manage Networks following Infrastructure as Code principles.","reference_id":"1443319727215607911","provider":{"name":"Network as Code"},"content_scan_version":2}],"timestamp":"2025-11-26T19:17:18.552000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443319727215607911","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1443045529641554001","message_id":"1443249538872901723","guild_id":"1212332642801025064"},"position":6,"referenced_message":{"type":0,"content":"<@811281824768458793> I'm not sure if this approach is really good ... you'll die due to the complexity especially when you'll add on top of it security groups and in worse case try to reflect ND/NDO (multisite templates). From my personal experience I would advise to simplify it as much as possible rather than map it as it is defined by Cisco.","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T14:38:24.347000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443249538872901723","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4}},{"type":0,"content":"At the moment, there is no workaround for this other than not using the hierarchy, building a form outside of Infrahub or a user defined check.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T17:48:23.550000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443297350595514401","channel_id":"1443045529641554001","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"<@811281824768458793> I'm not sure if this approach is really good ... you'll die due to the complexity especially when you'll add on top of it security groups and in worse case try to reflect ND/NDO (multisite templates). From my personal experience I would advise to simplify it as much as possible rather than map it as it is defined by Cisco.","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T14:38:24.347000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443249538872901723","channel_id":"1443045529641554001","author":{"id":"1254387763982106755","username":"tomek_79993","avatar":"ee65e170c3ce092e2492985d62ee298d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Tomek","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"Hello Wim, thank you for explaining.\nThe Cisco ACI object model I am trying to model is very hierarchical, and using hierarchy gives superior UI navigation (in 1.6 even more so), cuts down on redundant Parent relationships, and streamlines forms (no need to re-select the same tenant for different relationships). The benefits outweigh the possibility of invalid input, but I still want validation.\n\nCan you recommend a workaround if I continue using hierarchy? The only viable approach I have in mind is a check on a proposed change, which would work, but form-level validation would be more convenient.\n\nIf it makes sense I will go ahead and create a feature request for this.\n\nWhat do you think about second possible feature request - allowing children on a hierarchical node to take a list of values instead of a single one? (In my case I worked around this limitation with NacTenantChild generic)","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T10:24:06.610000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443185543285571584","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"The common parent constraint is only going to work with relationships of kind parent/component. \nThe relationship with name parent that you automatically get from implementing a hierarchy is not the same as a parent/component relationship. Due to the naming it could be confusing.\n\nIs there a specific reason you want to implement this using a hierarchy?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T08:38:23.898000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443158940023263394","channel_id":"1443045529641554001","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"this is on v1.6.0b0, but behaved the same on v1.5.3","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T01:10:54.104000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443046323824623728","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"When I try to uncomment the common parent i get the following error:\nUnable to load the schema:\n  NacBridgeDomain: Relationship 'vrf' defines 'common_parent' but node does not have a parent relationship\n\nRight now I am able to set the vrf relationship on bridge domain to a vrf from a different tenant. Which is not ideal and I would expect it to be default behaviour in hierarchical mode, or allow setting the common_parent on parent relationship created by the hierarchy.\n\nAnother consideration for a feature might be allowing children on a hierarchical node to take a list of values, so there is no need to use generic for it like I did in the example.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T01:07:55.742000+00:00","edited_timestamp":"2025-11-26T01:08:42.822000+00:00","flags":0,"components":[],"id":"1443045575720173569","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hello team, suppose I have the following minimal schema:\n```yaml\nversion: \"1.0\"\n\ngenerics:\n  - name: Generic\n    namespace: Nac\n    hierarchical: true\n    attributes:\n      - name: name\n        kind: Text\n      - name: domain_name\n        kind: Text\n\n  - name: TenantChild\n    namespace: Nac\n    description: \"Tenant child marker\"\n\nnodes:\n  - name: Tenant\n    namespace: Nac\n    inherit_from: [NacGeneric]\n    children: NacTenantChild\n    parent: \"\"\n    attributes:\n      - name: domain_name\n        kind: Text\n        unique: true\n        read_only: true\n        optional: false\n        computed_attribute:\n          kind: Jinja2\n          jinja2_template: \"uni/tn-{{ name__value }}\"\n\n  - name: VRF\n    namespace: Nac\n    inherit_from: [NacGeneric, NacTenantChild]\n    parent: NacTenant\n    attributes:\n      - name: domain_name\n        kind: Text\n        unique: true\n        read_only: true\n        optional: false\n        computed_attribute:\n          kind: Jinja2\n          jinja2_template: \"{{ parent__domain_name__value }}/ctx-{{ name__value }}\"\n\n  - name: BridgeDomain\n    namespace: Nac\n    inherit_from: [NacGeneric, NacTenantChild]\n    parent: NacTenant\n    attributes:\n      - name: domain_name\n        kind: Text\n        unique: true\n        read_only: true\n        optional: false\n        computed_attribute:\n          kind: Jinja2\n          jinja2_template: \"{{ parent__domain_name__value }}/BD-{{ name__value }}\"\n    relationships:\n      - name: vrf\n        peer: NacVRF\n        kind: Attribute\n        cardinality: one\n        optional: false\n        # common_parent: parent\n```","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-26T01:07:44.756000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1443045529641554001","channel_id":"1443045529641554001","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false}]}]