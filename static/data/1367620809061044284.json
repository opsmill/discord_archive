[{"thread":{"id":"1367620809061044284","type":11,"last_message_id":"1408153265849241761","flags":0,"guild_id":"1212332642801025064","name":"Switch stack schema","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"676659164742811648","thread_metadata":{"archived":true,"archive_timestamp":"2025-09-20T18:27:37.397000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-05-01T21:56:50.046000+00:00"},"message_count":11,"member_count":5,"total_message_sent":11,"applied_tags":["1301914864339648552"]},"messages":[{"type":19,"content":"thanks for sharing, will look through it tomorrow with <@456226577798135808>","mentions":[{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},{"id":"456226577798135808","username":"Deleted User","avatar":null,"discriminator":"0000","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":null,"avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-21T18:18:20.801000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1408153265849241761","channel_id":"1367620809061044284","author":{"id":"1082587798328061973","username":"tobbe_sdnit","avatar":"8777929fb574bec16beb3c1f53e004cb","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":null,"avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1367620809061044284","message_id":"1407737282378858547","guild_id":"1212332642801025064"},"position":10,"referenced_message":{"type":0,"content":"This is what we have so far. I would say that it's quite rough, we're still in the proof of concept phase. We have the stack members as components of the switch.","mentions":[],"mention_roles":[],"attachments":[{"id":"1407737282013827254","filename":"schema_device_stacks.yml","size":18261,"url":"https://cdn.discordapp.com/attachments/1367620809061044284/1407737282013827254/schema_device_stacks.yml?ex=693398c2&is=69324742&hm=abe979af47eba7b6235c7cfe2784b3f06572b2a95f16071668d989104242f003&","proxy_url":"https://media.discordapp.net/attachments/1367620809061044284/1407737282013827254/schema_device_stacks.yml?ex=693398c2&is=69324742&hm=abe979af47eba7b6235c7cfe2784b3f06572b2a95f16071668d989104242f003&","content_type":"text/plain; charset=utf-8","content_scan_version":2}],"embeds":[],"timestamp":"2025-08-20T14:45:22.613000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1407737282378858547","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":9}},{"type":0,"content":"This is what we have so far. I would say that it's quite rough, we're still in the proof of concept phase. We have the stack members as components of the switch.","mentions":[],"mention_roles":[],"attachments":[{"id":"1407737282013827254","filename":"schema_device_stacks.yml","size":18261,"url":"https://cdn.discordapp.com/attachments/1367620809061044284/1407737282013827254/schema_device_stacks.yml?ex=693398c2&is=69324742&hm=abe979af47eba7b6235c7cfe2784b3f06572b2a95f16071668d989104242f003&","proxy_url":"https://media.discordapp.net/attachments/1367620809061044284/1407737282013827254/schema_device_stacks.yml?ex=693398c2&is=69324742&hm=abe979af47eba7b6235c7cfe2784b3f06572b2a95f16071668d989104242f003&","content_type":"text/plain; charset=utf-8","content_scan_version":2}],"embeds":[],"timestamp":"2025-08-20T14:45:22.613000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1407737282378858547","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":9,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":2,"count_details":{"burst":0,"normal":2},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":19,"content":"Of course!","mentions":[{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-13T15:33:45.171000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1405212741530288220","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"message_reference":{"type":0,"channel_id":"1367620809061044284","message_id":"1405212593450127381","guild_id":"1212332642801025064"},"position":8,"reactions":[{"emoji":{"id":null,"name":"‚ù§Ô∏è"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}],"referenced_message":{"type":0,"content":"Hi <@676659164742811648> would you mind sharing the schema in this thread? I would also be interested in seeing how you tackled this.","mentions":[{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-13T15:33:09.866000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1405212593450127381","channel_id":"1367620809061044284","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":7}},{"type":0,"content":"Hi <@676659164742811648> would you mind sharing the schema in this thread? I would also be interested in seeing how you tackled this.","mentions":[{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-13T15:33:09.866000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1405212593450127381","channel_id":"1367620809061044284","author":{"id":"811281824768458793","username":"matej3653","avatar":null,"discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Matej Lanca","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":7},{"type":0,"content":"Hi <@456226577798135808>! I did change some things, we're still in the testing phase though. I can send you my schema when I'm back from vacation next week. Just ping me so I remember!","mentions":[{"id":"456226577798135808","username":"Deleted User","avatar":null,"discriminator":"0000","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":null,"avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-13T15:02:09.140000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1405204788999880704","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6,"reactions":[{"emoji":{"id":null,"name":"‚ù§Ô∏è"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Jumping in on this one even thought it is old.\n<@676659164742811648> did you follow that schema posted by Baptiste and did it work or did you change anything?\n\nI am also wondering about how to setup the schema to work well with stacked switches","mentions":[{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-08-13T12:52:50.012000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1405172244858011720","channel_id":"1367620809061044284","author":{"id":"456226577798135808","username":"Deleted User","avatar":null,"discriminator":"0000","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":null,"avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"Once imported if you navigate to `Deployment->Generator Instance` if you select your generator there should be a button in the UI on the top right to run the generator","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-05-06T16:20:29.016000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1369348103014191115","channel_id":"1367620809061044284","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"Have you imported your repository into infrahub along with a `.infrahub.yml` file?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-05-06T16:16:16.247000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1369347042823901366","channel_id":"1367620809061044284","author":{"id":"227091130561331200","username":"minitriga.","avatar":"71ac6f8da9c358794381d5d430c53316","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Alex Gittings","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"I have a generator which is providing the basic functionality, although I've not figured out getting it to be a part of the merge request so far. But is there any other way to run the generator from the web UI without the merge request? I'm wondering that because it doesn't really make sense in this case to do the merge before the interfaces are created/configured.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-05-06T16:03:57.532000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1369343944428879985","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Thanks for that! I'm looking into the generator method as you described.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-05-02T17:21:02.577000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1367913791811092612","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Hey <@676659164742811648> \n\nJust to make sure we're on the same page, I see three main concepts here:\n- **Stackable switch** ‚Äì This refers to the actual hardware unit.\n- **Stack** ‚Äì A group of physical switches working together as one logical switch.\n- **Device** ‚Äì The element with a primary IP, configuration, location, etc.\n\nNow, there are a couple of ways to look at this. You could treat each switch/box as its own standalone device and consider the stack just a \"group of devices.\" That works, but in my opinion, the simpler approach is to treat the stack as the device. Then you just plug in stackable switches like you would plug in cards/modules.\n\nAt a high level:\n- A **stackable switch** would have a serial number, model, stack member number, etc.\n- A **stack** would have all the interfaces, a primary IP, location, and so on.\n\nSo that‚Äôs the structure side of things. Next, we need to think about how to actually populate the data. This really depends on how dynamic and standardized your environment is.\n- **Static and standardized **‚Äì You‚Äôve got a few fixed stack layouts that don‚Äôt change much.\nIn that case, I‚Äôd go with an [object template](https://docs.infrahub.app/topics/object-template). You define a few templates that include both the stackable switches and interfaces. When creating a new stack, you just select the right template, and the data gets populated accordingly.\n- **Dynamic and not standardized** ‚Äì Each stack is unique, and switches get added/removed often.\nHere, I‚Äôd recommend using a [generator](https://docs.infrahub.app/topics/generator). This lets users add or remove stackable switches from a stack, and the generator takes care of updating the interface list based on the logic you define.\n\nIf we‚Äôre aligned on the overall concept, I‚Äôm happy to dive into the implementation details next.","mentions":[{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[{"id":"1367774457531338792","filename":"image.png","size":36469,"url":"https://cdn.discordapp.com/attachments/1367620809061044284/1367774457531338792/image.png?ex=6933e43a&is=693292ba&hm=5c2dcb794337e8489efdd10504e7ff659c3ed4556d25017d6f0fddfda79c4375&","proxy_url":"https://media.discordapp.net/attachments/1367620809061044284/1367774457531338792/image.png?ex=6933e43a&is=693292ba&hm=5c2dcb794337e8489efdd10504e7ff659c3ed4556d25017d6f0fddfda79c4375&","width":1042,"height":444,"content_type":"image/png","content_scan_version":2,"placeholder":"OggGA4BqCfqXkNrJAAAAAAA=","placeholder_version":1}],"embeds":[],"timestamp":"2025-05-02T08:07:22.677000+00:00","edited_timestamp":"2025-05-02T08:07:45.323000+00:00","flags":0,"components":[],"id":"1367774457451511869","channel_id":"1367620809061044284","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"üôå"},"count":3,"count_details":{"burst":0,"normal":3},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Hi all, loving Infrahub so far. I'm looking into using it for a campus network, for our team to collaborate on documentation and automation.\n\nWe have a lot of Cisco switch stacks, so it's very important for us that we're able to model them well and easily as possible.\n\nI've attached my work so far, extending the IP fabric schema. I'm interested in your feedback, but I'm also wondering how to handle interfaces with the stacks. It would be ideal to keep the interfaces with the Device, rather than separating them by stack. However, it would be great to be able to automatically add interfaces based on how many and what type of interfaces exist on each Device Model. Any thoughts? Many thanks in advance.","mentions":[],"mention_roles":[],"attachments":[{"id":"1367620809350189136","filename":"switch_stacks_v1.yml","size":13681,"url":"https://cdn.discordapp.com/attachments/1367620809061044284/1367620809350189136/switch_stacks_v1.yml?ex=6933fde2&is=6932ac62&hm=3ee0134f12f9ef5a223f5f8a9d1ba4b9a9a2e3ab873e787ea46d71b247072235&","proxy_url":"https://media.discordapp.net/attachments/1367620809061044284/1367620809350189136/switch_stacks_v1.yml?ex=6933fde2&is=6932ac62&hm=3ee0134f12f9ef5a223f5f8a9d1ba4b9a9a2e3ab873e787ea46d71b247072235&","content_type":"text/plain; charset=utf-8","content_scan_version":2}],"embeds":[],"timestamp":"2025-05-01T21:56:50.046000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1367620809061044284","channel_id":"1367620809061044284","author":{"id":"676659164742811648","username":"hyperbolic__","avatar":"d9a17c596708805225388b94eaae1edc","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Hyperbolic","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"üëã"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]}]}]