[{"thread":{"id":"1383408655285751919","type":11,"last_message_id":"1383566239812550718","flags":0,"guild_id":"1212332642801025064","name":"Can‚Äôt Create NumberPool from Schema?","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"229680488686682122","thread_metadata":{"archived":true,"archive_timestamp":"2025-07-14T22:05:36.652000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-06-14T11:32:05.910000+00:00"},"message_count":7,"member_count":2,"total_message_sent":7,"applied_tags":["1301914864339648552","1301915943663960064"]},"messages":[{"type":0,"content":"Opened this issue for the number pool creation for a schema node that only exists in a branch\nhttps://github.com/opsmill/infrahub/issues/6708","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub/issues/6708","title":"bug: cannot create a number pool linked to an attribute of a schema...","description":"Component API Server / GraphQL Infrahub version 1.3.0 Current Behavior I cannot create a CoreNumberPool that for an attribute of kind Number on a schema node that does not exist in the main branch....","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/1cb9c5b579dc727d1ad387af63b16fad923756700f98d6e649615e2e2cd19dfe/opsmill/infrahub/issues/6708","proxy_url":"https://images-ext-1.discordapp.net/external/0ZdSQfienJgE9c_ep94MJNdEHuQtJwk75BgHHkTPuI8/https/opengraph.githubassets.com/1cb9c5b579dc727d1ad387af63b16fad923756700f98d6e649615e2e2cd19dfe/opsmill/infrahub/issues/6708","width":1200,"height":600,"description":"Component API Server / GraphQL Infrahub version 1.3.0 Current Behavior I cannot create a CoreNumberPool that for an attribute of kind Number on a schema node that does not exist in the main branch....","flags":0},"content_scan_version":2}],"timestamp":"2025-06-14T21:58:16.989000+00:00","edited_timestamp":"2025-06-14T21:58:26.062000+00:00","flags":0,"components":[],"id":"1383566239812550718","channel_id":"1383408655285751919","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"Did you upgrade the SDK as well? You will need to have v1.13.0.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T14:42:51.992000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383456663633399959","channel_id":"1383408655285751919","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"Yep definitely 1.3.0. Using docker compose and pulled the images fresh this morning after seeing the announcement üòä","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T14:28:16.528000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383452991670976512","channel_id":"1383408655285751919","author":{"id":"229680488686682122","username":"duplex123","avatar":"2f24e3e9ea601cf6d2c08b19400a7658","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"duplex","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"For the second part, indeed that seems to be a bug. I will create an issue for this.","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T14:19:35.948000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383450808200204450","channel_id":"1383408655285751919","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Are you sure you are running version 1.3.0?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T14:19:07.063000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383450687047733259","channel_id":"1383408655285751919","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Hey,\n\nI just tested loading this schema in a newly created branch, with the main branch being \"empty\"\n```yaml\n---\nversion: \"1.0\"\nnodes:\n  - name: Device\n    namespace: Infra\n    attributes:\n      - name: name\n        kind: Text\n        optional: false\n      - name: device_id\n        kind: NumberPool\n        read_only: true\n        parameters:\n          start_range: 100\n          end_range: 1000\n```\nAnd that seemed to work","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T14:16:42.242000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383450079624560653","channel_id":"1383408655285751919","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Right, after some further experimentation, i have some additional information.\n\nMy changes were all in a branch I called ‚Äúinitial‚Äù. The main branch was completely empty (this is a fresh install).\n\nI switched the attribute in the node to just a number and pushed it to my branch.\n\nThen, using the object management in the UI, I attempted to create a resource pool. It allowed me to select my node and attribute but would give me the error ‚Äúthe selected model does not exist‚Äù and would not let me save.\n\nI then merged my modified schema (with the the wan_id attribute just being a basic number) into main.\n\nI then repeated the UI process and it successfully created the resource pool.\n\nSo my current conclusion is that whatever code is responsible for creating resource/number pools are not handling branches correctly. I should be able to propose the creation of a new field and an associated resource pool from within a branch right?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-14T11:54:09.337000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383414206141038685","channel_id":"1383408655285751919","author":{"id":"229680488686682122","username":"duplex123","avatar":"2f24e3e9ea601cf6d2c08b19400a7658","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"duplex","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi,\n\nPerhaps I‚Äôm misunderstanding something, but I‚Äôm struggling to create a simple NumberPool from within a node in my schema.\n\nI followed this doc. My only difference is that I am defining it in a node rather than a generic? Is this the issue?\n\nhttps://docs.infrahub.app/topics/schema-attr-kind-number-pool\n\nMy node:\n\nnodes:\n  - state: present\n    name: Vrf\n    label: VRF\n    description: Virtual Routing and Forwarding instance.\n    icon: mdi:ip-network\n    include_in_menu: false\n    human_friendly_id:\n      - name__value\n    namespace: Wan\n    inherit_from:\n      - IpamGenericVrf\n    generate_profile: true\n    generate_template: false\n    attributes:\n      - name: name\n        kind: Text\n        unique: true\n        order_weight: 1000\n      - name: description\n        kind: Text\n        optional: true\n        order_weight: 2000\n      - name: wan_id\n        description: Unique identifier for the WAN VRF\n        label: WAN ID\n        kind: NumberPool\n        read_only: true # Required\n        parameters:\n          start_range: 100\n          end_range: 10000\n\nI get this error:\n\nUnable to load the schema:\n  NumberPool must be one of ['ID', 'Dropdown', 'Text', 'TextArea', 'DateTime', 'Email', 'Password', 'HashedPassword', 'URL', 'File', 'MacAddress', 'Color', 'Number',\n'Bandwidth', 'IPHost', 'IPNetwork', 'Boolean', 'Checkbox', 'List', 'JSON', 'Any'] at kind\n\nBut that doesn‚Äôt make sense? If kind is not NumberPool then it doesn‚Äôt create the number pool. Kind is also not a valid option under parameters according to the schema. So I‚Äôm at a bit of a loss?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/topics/schema-attr-kind-number-pool","title":"Attribute - NumberPool | Infrahub Documentation","description":"The NumberPool attribute kind enables the dynamic creation of a CoreNumberPool for the specific schema node and attribute rather than requiring users to define this after the schema is loaded.","content_scan_version":2}],"timestamp":"2025-06-14T11:32:05.910000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1383408655285751919","channel_id":"1383408655285751919","author":{"id":"229680488686682122","username":"duplex123","avatar":"2f24e3e9ea601cf6d2c08b19400a7658","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"duplex","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]