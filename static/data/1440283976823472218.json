[{"thread":{"id":"1440283976823472218","type":11,"last_message_id":"1441433510911938633","flags":0,"guild_id":"1212332642801025064","name":"Node trigger rule match condition not working","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"918504524610695168","thread_metadata":{"archived":false,"archive_timestamp":"2025-11-18T10:14:19.257000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-11-18T10:14:19.257000+00:00"},"message_count":16,"member_count":2,"total_message_sent":16,"applied_tags":["1301915943663960064"]},"messages":[{"type":0,"content":"Anyway feel free to book some time so we can look into it together next week https://cal.com/baptiste-opsmill/video-meeting","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://cal.com/baptiste-opsmill/video-meeting","title":"Meeting with Baptiste @ OpsMill | Baptiste Girard | Cal.com","description":"Meeting with Baptiste @ OpsMill","color":1842204,"provider":{"name":"Cal.com"},"thumbnail":{"url":"https://cal.com/_next/image?w=1200&q=100&url=%2Fapi%2Fsocial%2Fog%2Fimage%3Ftype%3Dmeeting%26title%3DMeeting%2Bwith%2BBaptiste%2B%2540%2BOpsMill%26meetingProfileName%3DBaptiste%2BGirard%26meetingImage%3Dhttps%253A%252F%252Flh3.googleusercontent.com%252Fa%252FACg8ocKRtq2VvC1vrMuUGNA3g3V6sMZWV9s7f1veGpU77NehZJAOcyg%253Ds96-c%26names%3DBaptiste%2BGirard%26usernames%3Dbaptiste-opsmill%26v%3D0825c61c","proxy_url":"https://images-ext-1.discordapp.net/external/PqTZmfxvn-MVUxB85V6GGCh7m-60TkkZVAKz6X1wVg8/%3Fw%3D1200%26q%3D100%26url%3D%252Fapi%252Fsocial%252Fog%252Fimage%253Ftype%253Dmeeting%2526title%253DMeeting%252Bwith%252BBaptiste%252B%252540%252BOpsMill%2526meetingProfileName%253DBaptiste%252BGirard%2526meetingImage%253Dhttps%25253A%25252F%25252Flh3.googleusercontent.com%25252Fa%25252FACg8ocKRtq2VvC1vrMuUGNA3g3V6sMZWV9s7f1veGpU77NehZJAOcyg%25253Ds96-c%2526names%253DBaptiste%252BGirard%2526usernames%253Dbaptiste-opsmill%2526v%253D0825c61c/https/cal.com/_next/image","width":1200,"height":630,"content_type":"image/png","placeholder":"7vcFDIDHl3efd3h2d3mnf2b6dw==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-11-21T14:22:09.541000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441433510911938633","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":15,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"(according to the schema file that seems to be the case...)","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-21T14:21:42.714000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441433398391603441","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":14},{"type":0,"content":"Can you double check directly in Infrahub under `Object Management` > `Schema` that the dropdown value matches with the value you set in the trigger match","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-21T14:18:53.070000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441432686852968611","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":13},{"type":0,"content":"So far the only way for me to reproduce the behavior is if I put the wrong `value`","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-21T14:15:33.436000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441431849527279616","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":12},{"type":0,"content":"Ok I tried to reproduce the issue, to me everything works as expected ...","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-21T14:13:55.443000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441431438514978856","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":11},{"type":0,"content":"upgraded","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-20T14:57:00.956000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441079895076634706","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":10,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Have you upgraded to 1.5 or it's a new instance?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-20T14:19:08.702000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1441070364552597544","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":9},{"type":0,"content":"I'm on version 1.5 btw","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T18:49:18.028000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440413575662407721","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":8,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Ok, I'll try to reproduce the issue on my side, I'll let you know","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T17:59:18.576000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440400995048886422","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":7,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"Yes correct","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T17:53:15.944000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440399474060165151","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"Just to confirm:\n- When you open the task list from the top-right button in Infrahub, you don‚Äôt see any generator being triggered\n- The exact same `Trigger` works when there is no `Match` condition, but stops working as soon as you add the `Match`","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T17:18:23.323000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440390696971272363","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"I tried both `value` and `any` and neither trigger the generator","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T14:20:10.729000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440345848981754007","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"I‚Äôm seeing some odd behavior as well, but in a different way (it matches even though the condition isn‚Äôt met). Have you tried setting `Value Match` to `Value` instead of `Any`?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T14:08:59.326000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440343032913330267","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"Hey, it's the same as from the demo schema: https://github.com/dpeachey/infrahub/blob/2f89f4ca7e4ebf47f1ef4c91bb2cdc642c602db2/src/schemas/dcim.yml#L53","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/dpeachey/infrahub/blob/2f89f4ca7e4ebf47f1ef4c91bb2cdc642c602db2/src/schemas/dcim.yml","title":"infrahub/src/schemas/dcim.yml at 2f89f4ca7e4ebf47f1ef4c91bb2cdc642c...","description":"Contribute to dpeachey/infrahub development by creating an account on GitHub.","color":1975079,"provider":{"name":"GitHub"},"content_scan_version":2}],"timestamp":"2025-11-18T13:49:55.072000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440338233564205230","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2,"reactions":[{"emoji":{"id":null,"name":"üëç"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]},{"type":0,"content":"`LagInterfaceL2` actually","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T13:21:37.034000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440331111476498462","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Hey! I'm looking into this, could you share the dropdown you have in the schema for `L2Interface` role?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-11-18T13:21:04.783000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440330976206258367","channel_id":"1440283976823472218","author":{"id":"1259824777879752785","username":"baptiste_pro_38742","avatar":"6270c0e83569e285aefb7d8f0535f392","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Baptiste","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"Hi team,\n\nI have a node trigger rule which triggers a generator to update artifacts for devices when a related interface is updated. This works fine without match rules. However when I add a match rule to restrict the trigger to only run on the condition that the interface role attribute is equal to `server` the generator does not trigger. I've tried varying combinations of the value match but I can't seem to get it to work. Am I missing something?\n\nThanks.","mentions":[],"mention_roles":[],"attachments":[{"id":"1440283977465335868","filename":"Screenshot_2025-11-18_at_11.11.12.png","size":46442,"url":"https://cdn.discordapp.com/attachments/1440283976823472218/1440283977465335868/Screenshot_2025-11-18_at_11.11.12.png?ex=693401fb&is=6932b07b&hm=b4f7e1b8ab9c7f806de3f69af4f7a87c6a2ddb058d9d8061fc64a0c00c0c5897&","proxy_url":"https://media.discordapp.net/attachments/1440283976823472218/1440283977465335868/Screenshot_2025-11-18_at_11.11.12.png?ex=693401fb&is=6932b07b&hm=b4f7e1b8ab9c7f806de3f69af4f7a87c6a2ddb058d9d8061fc64a0c00c0c5897&","width":566,"height":541,"content_type":"image/png","original_content_type":"image/png","content_scan_version":2,"placeholder":"/vcBB4CwFdlBpIxmpWym+WhlUK/G9WoM","placeholder_version":1,"title":"Screenshot 2025-11-18 at 11.11.12"},{"id":"1440283977830109227","filename":"Screenshot_2025-11-18_at_11.13.51.png","size":32972,"url":"https://cdn.discordapp.com/attachments/1440283976823472218/1440283977830109227/Screenshot_2025-11-18_at_11.13.51.png?ex=693401fb&is=6932b07b&hm=54dbe0e00517e5259bc3a218a064afd5fd22d22e1ad94b01e675e2bc11944d0c&","proxy_url":"https://media.discordapp.net/attachments/1440283976823472218/1440283977830109227/Screenshot_2025-11-18_at_11.13.51.png?ex=693401fb&is=6932b07b&hm=54dbe0e00517e5259bc3a218a064afd5fd22d22e1ad94b01e675e2bc11944d0c&","width":497,"height":447,"content_type":"image/png","original_content_type":"image/png","content_scan_version":2,"placeholder":"/vcBBoCQNLlUpFuGafdnpml18EkFTHM=","placeholder_version":1,"title":"Screenshot 2025-11-18 at 11.13.51"}],"embeds":[],"timestamp":"2025-11-18T10:14:19.257000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1440283976823472218","channel_id":"1440283976823472218","author":{"id":"918504524610695168","username":"dpeach44","avatar":"91d80b360d48938482b8a7e23147d057","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"dpeach","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"reactions":[{"emoji":{"id":null,"name":"üëã"},"count":1,"count_details":{"burst":0,"normal":1},"burst_colors":[],"me_burst":false,"burst_me":false,"me":false,"burst_count":0}]}]}]