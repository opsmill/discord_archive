[{"thread":{"id":"1321933667471458396","type":11,"last_message_id":"1322158853214703646","flags":0,"guild_id":"1212332642801025064","name":"Timeout errors updating schema","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"309485269235793920","thread_metadata":{"archived":true,"archive_timestamp":"2025-01-26T11:11:41.543000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2024-12-26T20:12:26.665000+00:00"},"message_count":9,"member_count":3,"total_message_sent":9,"applied_tags":["1301914864339648552"]},"messages":[{"type":0,"content":"Note: this will wipe all your data!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T11:07:15.130000+00:00","edited_timestamp":"2024-12-27T11:07:20.757000+00:00","flags":0,"components":[],"id":"1322158853214703646","channel_id":"1321933667471458396","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":8},{"type":0,"content":"I had issues with different versions, my recommendation would be a docker compose down -v and start with a clean install of 1.0.10","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T11:06:51.159000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322158752673300561","channel_id":"1321933667471458396","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":7},{"type":0,"content":"So it is definitely recommended to look into the benchmark and make sure you meet the requirements.\n\nYou can try to bump the timeout by  setting the enironment variable `INFRAHUB_TIMEOUT` to a higher value in the shell from which you execute the `infrahubctl schema load` command.\n\nIf that doesn't work, can you send over the complete schema and then specify the exact change you are trying to make?\n\nWould be good to capture the logs aswell from the different containers so we can have a look at that too.\n\n```\ndocker logs infrahub-server-1 > server.log\ndocker logs infrahub-task-worker-1 > task-worker-1.log\ndocker logs infrahub-task-worker-2 > task-worker-2.log\n```\n\nIs there any data in this instance?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T10:31:08.336000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322149765022220329","channel_id":"1321933667471458396","author":{"id":"1221732604806692884","username":"w_vandeun","avatar":"e9ac2093c5e49a4a05a41b375db9ac69","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Wim","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":6},{"type":0,"content":"<@1303043080634630154> was running 1.0.8 encountering the same issue and tried updating to 1.0.10 but still timing out when performing schema update","mentions":[{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T10:02:07.798000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322142464676724789","channel_id":"1321933667471458396","author":{"id":"309485269235793920","username":"jacon_25","avatar":"5da400979ddecd2f292b7ff88bde73a9","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jacon","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":5},{"type":0,"content":"What version are you running?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T09:46:39.513000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322138571167236168","channel_id":"1321933667471458396","author":{"id":"1303043080634630154","username":"roger_59670","avatar":"339b471b2381d72ed3fc7392ed5b701d","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Roger","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":4},{"type":0,"content":"Yes same issue even after a reboot , but it sounds like something on our end anyway so I’ll keep testing. Thanks for the info <@370964598284746752> ! I’ll let you know once we get it resolved.","mentions":[{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T05:17:24.651000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322070812764934276","channel_id":"1321933667471458396","author":{"id":"309485269235793920","username":"jacon_25","avatar":"5da400979ddecd2f292b7ff88bde73a9","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jacon","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":3},{"type":0,"content":"That is interesting, the tool just runs PerformanceTest and isn't anything Infrahub specific.\n\nDid you add the CPU cores while the VM was on? Not sure if it'd be worth it to reboot and try again.\n\nDo you get the same timeout issue?","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-27T02:54:31.243000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1322034853285199996","channel_id":"1321933667471458396","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"Thanks <@370964598284746752> , I ran the benchmark utility and got the attached results. What's strange is I increased the size of my VM's cores/sockets and verified the changes were applied using lscpu. But I'm still getting very similar scores on the benchmark. I've attached output from lscpu. Is there an additional configuration I need to apply in Infrahub so that it utilizes more CPU cores? Thanks!","mentions":[{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[{"id":"1322022001476636743","filename":"image.png","size":13189,"url":"https://cdn.discordapp.com/attachments/1321933667471458396/1322022001476636743/image.png?ex=69338eef&is=69323d6f&hm=ccc67bfed323400e5fef11288f099bbefb830194158c2ab6555833d9a0af144c&","proxy_url":"https://media.discordapp.net/attachments/1321933667471458396/1322022001476636743/image.png?ex=69338eef&is=69323d6f&hm=ccc67bfed323400e5fef11288f099bbefb830194158c2ab6555833d9a0af144c&","width":739,"height":118,"content_type":"image/png","content_scan_version":1,"placeholder":"BPgBAYRNX3R1l4Z6P1B494k=","placeholder_version":1},{"id":"1322022002231476255","filename":"image.png","size":244839,"url":"https://cdn.discordapp.com/attachments/1321933667471458396/1322022002231476255/image.png?ex=69338eef&is=69323d6f&hm=0b0549b51a6f9ab2351caf2868615888939fdb2210e4ac2ebfd396416e3c11b0&","proxy_url":"https://media.discordapp.net/attachments/1321933667471458396/1322022002231476255/image.png?ex=69338eef&is=69323d6f&hm=0b0549b51a6f9ab2351caf2868615888939fdb2210e4ac2ebfd396416e3c11b0&","width":3818,"height":1610,"content_type":"image/png","content_scan_version":1,"placeholder":"BAgCA4DfmYhXh2mbAAAAAAA=","placeholder_version":1}],"embeds":[],"timestamp":"2024-12-27T02:03:27.389000+00:00","edited_timestamp":"2024-12-27T02:03:51.794000+00:00","flags":0,"components":[],"id":"1322022002550378506","channel_id":"1321933667471458396","author":{"id":"309485269235793920","username":"jacon_25","avatar":"5da400979ddecd2f292b7ff88bde73a9","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jacon","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"Hi <@309485269235793920> can you run the benchmark utility and report back with the results? https://docs.infrahub.app/topics/hardware-requirements/","mentions":[{"id":"309485269235793920","username":"jacon_25","avatar":"5da400979ddecd2f292b7ff88bde73a9","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jacon","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://docs.infrahub.app/topics/hardware-requirements/","title":"Hardware requirements | Infrahub Documentation","description":"The system on which you want to run Infrahub, has to meet the following hardware requirements:","content_scan_version":0}],"timestamp":"2024-12-26T21:44:20.423000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1321956793848692768","channel_id":"1321933667471458396","author":{"id":"370964598284746752","username":"foolproofalibi","avatar":"51c8acd4dcd60cb1cea707612872daf5","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Foolproofalibi","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"I'm receiving timeout errors when attempting to run:\n`infrahubctl schema load --branch network-device-schema schema`\n\nThe error I receive is:\n`Unable to read from 'http://localhost:8000/api/schema/load?branch=network-device-schema'. (timeout: 120 sec)`\n\nThe schema update is straightforward, just a rename of one of the entity fields. Is there a way I can increase the timeout using infrahubctl?\n\nThanks!","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2024-12-26T20:12:26.665000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1321933667471458396","channel_id":"1321933667471458396","author":{"id":"309485269235793920","username":"jacon_25","avatar":"5da400979ddecd2f292b7ff88bde73a9","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Jacon","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]