[{"thread":{"id":"1382670998133932043","type":11,"last_message_id":"1382979640976736366","flags":0,"guild_id":"1212332642801025064","name":"Pylance \"Partially unknown\" with protocols","parent_id":"1301914405176475729","rate_limit_per_user":0,"bitrate":64000,"user_limit":0,"rtc_region":null,"owner_id":"867799355921268767","thread_metadata":{"archived":true,"archive_timestamp":"2025-07-13T07:15:59.548000+00:00","auto_archive_duration":4320,"locked":false,"create_timestamp":"2025-06-12T10:40:54.740000+00:00"},"message_count":3,"member_count":2,"total_message_sent":3,"applied_tags":["1301915943663960064","1322475882421555200","1304062537364410420"]},"messages":[{"type":0,"content":"Makes absolutely sense. I was just afraid I was doing something wrong üòÖ","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-13T07:07:20.928000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1382979640976736366","channel_id":"1382670998133932043","author":{"id":"867799355921268767","username":"ubaumann","avatar":"6246a4fdf0eec315ad7d2a830626dc94","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"ubaumann","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false,"position":2},{"type":0,"content":"<@867799355921268767> I think this is expected right now\nthe method `client.create` accept a protocol but it doesn't make it 100% compatible with Typing unfortunately\nIn order to have a way to create an object with proper typing I think we need to add a create method on `InfrahubNode` itself, instead of using `client.create`\nThere is an issue to track this feature. https://github.com/opsmill/infrahub-sdk-python/issues/330","mentions":[{"id":"867799355921268767","username":"ubaumann","avatar":"6246a4fdf0eec315ad7d2a830626dc94","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"ubaumann","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null}],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/opsmill/infrahub-sdk-python/issues/330","title":"feature: Add `create` method to InfrahubNode ¬∑ Issue #330 ¬∑ opsmi...","description":"Component Python SDK Describe the Feature Request The proposal is to add a new method create() on InfrahubNode itself, this way it will be possible for each Protocol to define precisely what argume...","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/2d255cb65e50877395c8fd1f6662f4701ede94bca52115952df2c6e8acd8d6af/opsmill/infrahub-sdk-python/issues/330","proxy_url":"https://images-ext-1.discordapp.net/external/2x9o6z6Z8ZfIOqPWpaxv99fmGJGaCFuPZJj-HoBjJMc/https/opengraph.githubassets.com/2d255cb65e50877395c8fd1f6662f4701ede94bca52115952df2c6e8acd8d6af/opsmill/infrahub-sdk-python/issues/330","width":1200,"height":600,"content_type":"image/png","placeholder":"+vcFDIKFm6eKiHioZ3+Wb1H5Fg==","placeholder_version":1,"flags":0},"content_scan_version":2}],"timestamp":"2025-06-13T06:42:37.167000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1382973417632043060","channel_id":"1382670998133932043","author":{"id":"695690467056025690","username":"dgarros","avatar":"67171294847dca2ce3ac938f5bca0443","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"Damien","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"},"primary_guild":{"identity_guild_id":"1212332642801025064","identity_enabled":true,"tag":"OTTO","badge":"40122d86938d2a7824dfd9bd695abe81"}},"pinned":false,"mention_everyone":false,"tts":false,"position":1},{"type":0,"content":"This is my code (very early and work in progress): https://github.com/ubaumann/demo_infrahub_pydantify/blob/aa175a46c445f4f05cc6d2d66fc8d03e1447cd8a/infrahub/bootstrap/create_toplology.py","mentions":[],"mention_roles":[],"attachments":[],"embeds":[{"type":"article","url":"https://github.com/ubaumann/demo_infrahub_pydantify/blob/aa175a46c445f4f05cc6d2d66fc8d03e1447cd8a/infrahub/bootstrap/create_toplology.py","title":"demo_infrahub_pydantify/infrahub/bootstrap/create_toplology.py at a...","description":"Simple example how infrahub can generate gNMI payload using pydantic models generated with pydantify - ubaumann/demo_infrahub_pydantify","color":1975079,"provider":{"name":"GitHub"},"thumbnail":{"url":"https://opengraph.githubassets.com/4a8d75a5db7b9834685bb778393394849f5e2c08735d269bea6117d31dd98f3a/ubaumann/demo_infrahub_pydantify","proxy_url":"https://images-ext-1.discordapp.net/external/y7GDM4IgJQlnc3guMgPFv7uTHJ0hgO5yUodUDbEX4sw/https/opengraph.githubassets.com/4a8d75a5db7b9834685bb778393394849f5e2c08735d269bea6117d31dd98f3a/ubaumann/demo_infrahub_pydantify","width":1200,"height":600,"description":"Simple example how infrahub can generate gNMI payload using pydantic models generated with pydantify - ubaumann/demo_infrahub_pydantify","flags":0},"content_scan_version":1}],"timestamp":"2025-06-12T10:43:20.557000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1382671609734631546","channel_id":"1382670998133932043","author":{"id":"867799355921268767","username":"ubaumann","avatar":"6246a4fdf0eec315ad7d2a830626dc94","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"ubaumann","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false},{"type":0,"content":"I am building a small bootstrap script to populate Infrahub. I try to use protocols (`infrahubctl protocols --out infrahub/bootstrap/protocols.py`) and Pylance reports some issues. Maybe you can point me in the right direction.\n\nSnippet:\n```\n    device = await client.create(\n        NetworkDevice,\n        name=device_name,\n        platform=PLATFORM,\n        status=\"active\",\n        branch=branch,\n    )\n    batch.add(task=device.save, allow_upsert=allow_upsert, node=device)\n```\n\nPylance reports for the functions `client.create` and `batch.add`:\n```\nType of \"create\" is partially unknown\n  Type of \"create\" is \"Overload[(kind: str, data: dict[Unknown, Unknown] | None = ..., branch: str | None = ..., **kwargs: Any) -> CoroutineType[Any, Any, InfrahubNode], (kind: type[SchemaType@create], data: dict[Unknown, Unknown] | None = ..., branch: str | None = ..., **kwargs: Any) -> CoroutineType[Any, Any, SchemaType@create]]\"\n```\n\nPS: Script works and I love the protocols ‚ù§Ô∏èü¶¶","mentions":[],"mention_roles":[],"attachments":[],"embeds":[],"timestamp":"2025-06-12T10:40:54.740000+00:00","edited_timestamp":null,"flags":0,"components":[],"id":"1382670998133932043","channel_id":"1382670998133932043","author":{"id":"867799355921268767","username":"ubaumann","avatar":"6246a4fdf0eec315ad7d2a830626dc94","discriminator":"0","public_flags":0,"flags":0,"banner":null,"accent_color":null,"global_name":"ubaumann","avatar_decoration_data":null,"collectibles":null,"display_name_styles":null,"banner_color":null,"clan":null,"primary_guild":null},"pinned":false,"mention_everyone":false,"tts":false}]}]